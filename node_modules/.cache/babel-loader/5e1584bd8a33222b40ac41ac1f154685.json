{"ast":null,"code":"var _jsxFileName = \"/Users/andychenhe/Desktop/mydoc_25/src/App.js\";\nimport React from \"react\";\nimport \"./css/login.css\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport jwtDecode from \"jwt-decode\";\nimport AuthRoute from \"./util/AuthRoute\";\nimport { useState } from \"react\"; // material ui theme\n\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\nimport themeFile from \"./util/theme\"; //redux\n\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport { SET_AUTHENTICATED } from \"./redux/types\";\nimport { logoutUser, getUserData } from \"./redux/actions/userActions\"; // pages\n\nimport Home from \"./pages/Home\";\nimport login from \"./pages/Login\";\nimport signup from \"./pages/Signup\";\nimport covid from \"./pages/Covid\";\nimport Results from \"./pages/Results\"; // use themeFile from theme.js\n\nconst theme = createMuiTheme(themeFile); // set up api\n\naxios.defaults.baseURL = \"https://us-central1-mydoc-f3cd9.cloudfunctions.net/api/\"; // backend stuff\n\nconst token = localStorage.FBIdToken;\nstore.dispatch(getUserData());\n\nif (token) {\n  const decodedToken = jwtDecode(token); // log user out when expire\n\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutUser());\n    window.location.href = \"/login\";\n  } else {\n    store.dispatch({\n      type: SET_AUTHENTICATED\n    });\n    axios.defaults.headers.common[\"Authorization\"] = token; //deal with page refresh\n\n    store.dispatch(getUserData()); // get user data if logged in\n  }\n} // set up material ui theme\n// route to home/login/sign up\n\n\nfunction App() {\n  const [docInfo, setDocInfo] = useState([]);\n  const [hospitalInfo, sethospitalInfo] = useState([]);\n  const [searchMethod, setSearchMethod] = React.useState(\"Specialty\");\n  const [keywords, setKeywords] = React.useState('');\n  const [location, setLocation] = React.useState('');\n  const [searchBegin, setSearchBegin] = React.useState(false);\n\n  const getLocationValue = value => {\n    setLocation(value);\n  };\n\n  const getKeyWords = value => {\n    setKeywords(value);\n  };\n\n  const getSearchMethod = value => {\n    setSearchMethod(value);\n    setKeywords('');\n  };\n\n  const startSearch = () => {\n    console.log('keywords:' + keywords);\n    console.log('location:' + location);\n    console.log('method:' + searchMethod);\n    console.log('');\n    setSearchBegin(true);\n  };\n\n  const doMainSearch = pageProps => {\n    console.log('keywords:' + keywords);\n    console.log('location:' + location);\n    console.log('method:' + searchMethod);\n\n    if (searchBegin) {\n      let rootData = {\n        \"Specialty\": [{\n          \"Name\": \"Gastroenterology\",\n          \"Condition\": [\"Fever\", \"Headache\"],\n          \"Hospital\": [{\n            \"HospitalName\": \"Pantai Hospital Kuala Lumpur\",\n            \"HospitalType\": \"Private\",\n            \"likes\": 10000000,\n            \"RelateSpecialty\": \"Gastroenterology\",\n            \"Web\": \"https://www.pantai.com.my/kuala-lumpur\",\n            \"Hours\": \"24 hours\",\n            \"Address\": \"8, Jalan Bukit Pantai 59100 Kuala Lumpur\",\n            \"Zip\": \"92310\",\n            \"Phone\": \"+603-2296 0888\",\n            \"Tags\": [{\n              \"TagName\": \"Customer Service\",\n              \"Number\": 2\n            }, {\n              \"TagName\": \"Facility\",\n              \"Number\": 3\n            }, {\n              \"TagName\": \"Friendly\",\n              \"Number\": 5\n            }],\n            \"Insurance\": [\"Asia Assistance Network\", \"AIA\", \"AIA - Employee Benefit\", \"AIA Datalink\"],\n            \"Doctors\": [{\n              \"DocName\": \"Alex Leow\",\n              \"Specialty\": \"Gastroenterology\",\n              \"Hospital\": \"Pantai Hospital Kuala Lumpur\",\n              \"YearsofPractice\": 7,\n              \"Address\": \"No. A103a - Endoscopy Centre, 1st Floor, Block A, 8, Jalan Bukit Pantai 59100 Kuala Lumpur\",\n              \"Phone\": \" +603-2296 0763 Ext. 2763\",\n              \"Tags\": [{\n                \"TagName\": \"Bedside Manner\",\n                \"Number\": 1\n              }, {\n                \"TagName\": \"Enthusiastic\",\n                \"Number\": 10\n              }, {\n                \"TagName\": \"Friendly\",\n                \"Number\": 5\n              }],\n              \"Appointment\": {\n                \"Onsite\": {\n                  \"Status\": \"Active\"\n                },\n                \"PhoneCall\": {\n                  \"Content\": \"206-123-4567\",\n                  \"Status\": \"\"\n                },\n                \"Online\": {\n                  \"Content\": \"https://www.pantai.com.my/kuala-lumpur\",\n                  \"Status\": \"Active\"\n                },\n                \"Email\": {\n                  \"Content\": \"chenh57@uw.edu\",\n                  \"Status\": \"Active\"\n                }\n              },\n              \"Qulification\": \"MMed (Mal), MB. BCh. BAO. (Hons) LRCPI & LRCSI (Ire), B. Biomed Sci. (Hons) (UM)\",\n              \"Language\": [\"English\", \"Mandarin\", \"Malay\", \"Hokkien\", \"Cantonese\"],\n              \"Type\": \"Private\",\n              \"Procedures\": [\"Colonoscopy\", \"Gastroscopy\", \"Endoscopic Retrograde Cholangiopancreatography (ERCP)\", \"Fibroscan\", \"Liver Biopsy\", \"Endoscopic Ultrasound (EUS)\", \"Small Bowel Enteroscopy\", \"Capsule Endoscopy\"],\n              \"Conditions\": [\"Helicobacter Pylori Infection\", \"Dyspepsia\", \"Gastro Esophageal Reflux Disease\", \"Fever\"],\n              \"NumberOfLikes\": 12315\n            }, {\n              \"DocName\": \"Alex Tan\",\n              \"Specialty\": \"Gastroenterology\",\n              \"Hospital\": \"Pantai Hospital Kuala Lumpur\",\n              \"YearsofPractice\": 7,\n              \"Address\": \"No. A103a - Endoscopy Centre, 1st Floor, Block A, 8, Jalan Bukit Pantai 59100 Kuala Lumpur\",\n              \"Phone\": \" +603-123-2131\",\n              \"Tags\": [{\n                \"TagName\": \"Bedside Manner\",\n                \"Number\": 1\n              }, {\n                \"TagName\": \"Enthusiastic\",\n                \"Number\": 10\n              }, {\n                \"TagName\": \"Friendly\",\n                \"Number\": 5\n              }],\n              \"Appointment\": {\n                \"Onsite\": {\n                  \"Status\": \"Active\"\n                },\n                \"PhoneCall\": {\n                  \"Content\": \"206-123-4567\",\n                  \"Status\": \"\"\n                },\n                \"Online\": {\n                  \"Content\": \"https://www.pantai.com.my/kuala-lumpur\",\n                  \"Status\": \"Active\"\n                },\n                \"Email\": {\n                  \"Content\": \"chenh57@uw.edu\",\n                  \"Status\": \"Active\"\n                }\n              },\n              \"Qulification\": \"MMed (Mal), MB. BCh. BAO. (Hons) LRCPI & LRCSI (Ire), B. Biomed Sci. (Hons) (UM)\",\n              \"Language\": [\"English\", \"Cantonese\"],\n              \"Type\": \"Private\",\n              \"Procedures\": [\"Colonoscopy\", \"Gastroscopy\", \"Endoscopic Retrograde Cholangiopancreatography (ERCP)\", \"Fibroscan\", \"Liver Biopsy\", \"Endoscopic Ultrasound (EUS)\", \"Small Bowel Enteroscopy\", \"Capsule Endoscopy\"],\n              \"Conditions\": [\"Helicobacter Pylori Infection\", \"Dyspepsia\", \"Gastro Esophageal Reflux Disease\"],\n              \"NumberOfLikes\": 2333\n            }]\n          }]\n        }]\n      };\n      let newDocData = [];\n      let newHosData = [];\n      let userKeyWords = keywords.replace(\" \", \"\").toLowerCase();\n      let locationInfo = location.replace(\" \", \"\");\n      console.log('keywords:' + keywords);\n      console.log('location:' + locationInfo);\n      console.log('method:' + searchMethod);\n\n      if (searchMethod == 'Specialty') {\n        if (locationInfo == '') {\n          rootData[\"Specialty\"].forEach(specialtyItem => {\n            let specialtyName = specialtyItem['Name'];\n            specialtyName = specialtyName.replace(\" \", \"\").toLowerCase();\n\n            if (userKeyWords == specialtyName) {\n              specialtyItem['Hospital'].forEach(hospital => {\n                newHosData.push(hospital);\n                newDocData.push.apply(newDocData, hospital[\"Doctors\"]);\n              });\n            }\n          });\n        } else {\n          rootData[\"Specialty\"].forEach(specialtyItem => {\n            let specialtyName = specialtyItem['Name'];\n            specialtyName = specialtyName.replace(\" \", \"\").toLowerCase();\n            specialtyItem['Hospital'].forEach(hospital => {\n              let locationZip = hospital['Zip'];\n\n              if (locationZip == locationInfo && userKeyWords == specialtyName) {\n                newHosData.push(hospital);\n                newDocData.push.apply(newDocData, hospital[\"Doctors\"]);\n              }\n            });\n          });\n        }\n      } else if (searchMethod == 'Doctor') {\n        if (locationInfo == '') {\n          rootData[\"Specialty\"].forEach(specialtyItem => {\n            let foundDoc = 0;\n            specialtyItem['Hospital'].forEach(hospital => {\n              let docName = hospital['Doctors'];\n              docName.forEach(doctor => {\n                let docName = doctor['DocName'].replace(\" \", \"\").toLowerCase();\n\n                if (docName == userKeyWords) {\n                  newDocData.push(doctor);\n\n                  if (foundDoc == 0) {\n                    newHosData.push(hospital);\n                  }\n\n                  foundDoc++;\n                }\n              });\n            });\n          });\n        } else {\n          rootData[\"Specialty\"].forEach(specialtyItem => {\n            let foundDoc = 0;\n            specialtyItem['Hospital'].forEach(hospital => {\n              let locationZip = hospital['Zip'];\n              let docName = hospital['Doctors'];\n              docName.forEach(doctor => {\n                let docName = doctor['DocName'];\n\n                if (docName.replace(\" \", \"\").toLowerCase() == userKeyWords.toLowerCase() && locationZip == locationInfo) {\n                  newDocData.push(doctor);\n                  foundDoc++;\n                }\n\n                if (foundDoc == 1) {\n                  newHosData.push(hospital);\n                }\n              });\n            });\n          });\n        }\n      } else if (searchMethod == 'Hospital') {\n        if (locationInfo == '') {\n          rootData[\"Specialty\"].forEach(specialtyItem => {\n            let foundTarget = true;\n            let hosList = specialtyItem['Hospital'];\n            hosList.forEach(hospital => {\n              let hosName = hospital['HospitalName'];\n              hosName = hosName.replace(\" \", \"\").toLowerCase();\n\n              if (userKeyWords.toLowerCase() == hosName) {\n                if (foundTarget) {\n                  newHosData.push(hospital);\n                }\n\n                newDocData.push.apply(newDocData, hospital[\"Doctors\"]);\n                foundTarget = false;\n              }\n            });\n          });\n        } else {\n          rootData[\"Specialty\"].forEach(specialtyItem => {\n            let foundTarget = true;\n            let hosList = specialtyItem['Hospital'];\n            hosList.forEach(hospital => {\n              let hosName = hospital['HospitalName'];\n              let locationZip = hospital['Zip'];\n              hosName = hosName.replace(\" \", \"\").toLowerCase();\n\n              if (userKeyWords.toLowerCase() == hosName && locationZip == locationInfo) {\n                if (foundTarget) {\n                  newHosData.push(hospital);\n                }\n\n                newDocData.push.apply(newDocData, hospital[\"Doctors\"]);\n                foundTarget = false;\n              }\n            });\n          });\n        }\n      } else {\n        if (locationInfo == '') {\n          rootData[\"Specialty\"].forEach(specialtyItem => {\n            let condtionList = specialtyItem['Condition'];\n            condtionList = condtionList.map(function (item) {\n              return item.toLowerCase();\n            });\n\n            if (condtionList.includes(userKeyWords)) {\n              specialtyItem[\"Hospital\"].forEach(hospital => {\n                newHosData.push(hospital);\n                hospital['Doctors'].forEach(doctor => {\n                  let docCondition = doctor['Conditions'];\n                  docCondition = docCondition.map(function (item) {\n                    return item.toLowerCase();\n                  });\n\n                  if (docCondition.includes(userKeyWords)) {\n                    newDocData.push(doctor);\n                  }\n                });\n              });\n            }\n          });\n        } else {\n          rootData[\"Specialty\"].forEach(specialtyItem => {\n            let condtionList = specialtyItem['Condition'];\n            condtionList = condtionList.map(function (item) {\n              return item.toLowerCase();\n            });\n            specialtyItem[\"Hospital\"].forEach(hospital => {\n              let locationZip = hospital['Zip'];\n\n              if (locationZip == locationInfo && condtionList.includes(userKeyWords)) {\n                newHosData.push(hospital);\n                hospital['Doctors'].forEach(doctor => {\n                  let docCondition = doctor['Conditions'];\n                  docCondition = docCondition.map(function (item) {\n                    return item.toLowerCase();\n                  });\n\n                  if (docCondition.includes(userKeyWords)) {\n                    newDocData.push(doctor);\n                  }\n                });\n              }\n            });\n          });\n        }\n      }\n\n      sethospitalInfo(newHosData);\n      setDocInfo(newDocData);\n\n      if (pageProps.history != null) {\n        // reset default search method\n        getSearchMethod('Specialty');\n        getKeyWords('');\n        pageProps.history.push('/results');\n      }\n    }\n\n    return function resetSearchStatus() {\n      setSearchBegin(false);\n    };\n  };\n\n  const renderHome = renderProps => {\n    return /*#__PURE__*/React.createElement(Home, Object.assign({}, renderProps, {\n      setDocInfo: setDocInfo,\n      sethospitalInfo: sethospitalInfo,\n      doMainSearch: doMainSearch,\n      getLocationValue: getLocationValue,\n      getKeyWords: getKeyWords,\n      startSearch: startSearch,\n      getSearchMethod: getSearchMethod,\n      searchBegin: searchBegin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 12\n      }\n    }));\n  };\n\n  const renderResults = renderProps => {\n    return /*#__PURE__*/React.createElement(Results, Object.assign({}, renderProps, {\n      setDocInfo: setDocInfo,\n      sethospitalInfo: sethospitalInfo,\n      docInfo: docInfo,\n      hospitalInfo: hospitalInfo,\n      doMainSearch: doMainSearch,\n      getLocationValue: getLocationValue,\n      getKeyWords: getKeyWords,\n      startSearch: startSearch,\n      getSearchMethod: getSearchMethod,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 12\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(MuiThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Provider, {\n    store: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: renderHome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/login\",\n    component: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/signup\",\n    component: signup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/covid19\",\n    component: covid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/results\",\n    render: renderResults,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 15\n    }\n  }))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/andychenhe/Desktop/mydoc_25/src/App.js"],"names":["React","axios","BrowserRouter","Router","Switch","Route","jwtDecode","AuthRoute","useState","ThemeProvider","MuiThemeProvider","createMuiTheme","themeFile","Provider","store","SET_AUTHENTICATED","logoutUser","getUserData","Home","login","signup","covid","Results","theme","defaults","baseURL","token","localStorage","FBIdToken","dispatch","decodedToken","exp","Date","now","window","location","href","type","headers","common","App","docInfo","setDocInfo","hospitalInfo","sethospitalInfo","searchMethod","setSearchMethod","keywords","setKeywords","setLocation","searchBegin","setSearchBegin","getLocationValue","value","getKeyWords","getSearchMethod","startSearch","console","log","doMainSearch","pageProps","rootData","newDocData","newHosData","userKeyWords","replace","toLowerCase","locationInfo","forEach","specialtyItem","specialtyName","hospital","push","apply","locationZip","foundDoc","docName","doctor","foundTarget","hosList","hosName","condtionList","map","item","includes","docCondition","history","resetSearchStatus","renderHome","renderProps","renderResults"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./css/login.css\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport jwtDecode from \"jwt-decode\";\nimport AuthRoute from \"./util/AuthRoute\";\nimport { useState } from \"react\";\n\n\n// material ui theme\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\nimport themeFile from \"./util/theme\";\n\n//redux\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport { SET_AUTHENTICATED } from \"./redux/types\";\nimport { logoutUser, getUserData } from \"./redux/actions/userActions\";\n\n// pages\nimport Home from \"./pages/Home\";\nimport login from \"./pages/Login\";\nimport signup from \"./pages/Signup\";\nimport covid from \"./pages/Covid\";\nimport Results from \"./pages/Results\";\n\n// use themeFile from theme.js\nconst theme = createMuiTheme(themeFile);\n\n// set up api\naxios.defaults.baseURL =\n  \"https://us-central1-mydoc-f3cd9.cloudfunctions.net/api/\";\n\n// backend stuff\nconst token = localStorage.FBIdToken;\nstore.dispatch(getUserData());\n\nif (token) {\n  const decodedToken = jwtDecode(token);\n  // log user out when expire\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutUser());\n    window.location.href = \"/login\";\n  } else {\n    store.dispatch({ type: SET_AUTHENTICATED });\n    axios.defaults.headers.common[\"Authorization\"] = token; //deal with page refresh\n    store.dispatch(getUserData()); // get user data if logged in\n  }\n}\n\n// set up material ui theme\n// route to home/login/sign up\nfunction App() {\n  const [docInfo, setDocInfo] = useState([]);\n  const [hospitalInfo, sethospitalInfo] = useState([]);\n  const [searchMethod, setSearchMethod] = React.useState(\"Specialty\");\n  const [keywords, setKeywords] = React.useState('');\n  const [location, setLocation] = React.useState('');\n  const [searchBegin, setSearchBegin] = React.useState(false);\n\n\n  const getLocationValue = (value) => {\n    setLocation(value);\n  }\n\n  const getKeyWords = (value) => {\n    setKeywords(value);\n  }\n\n  const getSearchMethod = (value) => {\n    setSearchMethod(value);\n    setKeywords('');\n  }\n\n  const startSearch = () => {\n    console.log('keywords:'+ keywords);\n    console.log('location:'+location);\n    console.log('method:'+searchMethod);\n    console.log('');\n    setSearchBegin(true);\n  }\n\n\n\n\n  const doMainSearch = (pageProps) => {\n    console.log('keywords:'+ keywords);\n    console.log('location:'+location);\n    console.log('method:'+searchMethod);\n    if (searchBegin){\n      let rootData = {\n        \"Specialty\" : [{\n          \"Name\" : \"Gastroenterology\",\n          \"Condition\" : [\"Fever\", \"Headache\"],\n          \"Hospital\" : [{\n            \"HospitalName\" : \"Pantai Hospital Kuala Lumpur\",\n            \"HospitalType\" : \"Private\",\n            \"likes\": 10000000,\n            \"RelateSpecialty\" : \"Gastroenterology\",\n            \"Web\" : \"https://www.pantai.com.my/kuala-lumpur\",\n            \"Hours\" : \"24 hours\",\n            \"Address\" : \"8, Jalan Bukit Pantai 59100 Kuala Lumpur\",\n            \"Zip\" : \"92310\",\n            \"Phone\" : \"+603-2296 0888\",\n            \"Tags\" : [\n              {\n                \"TagName\" : \"Customer Service\",\n                \"Number\": 2\n              },\n              {\n                \"TagName\" : \"Facility\",\n                \"Number\": 3\n              },\n              {\n                \"TagName\" : \"Friendly\",\n                \"Number\": 5\n              }\n            ],\n            \"Insurance\" : [\"Asia Assistance Network\", \"AIA\", \"AIA - Employee Benefit\", \"AIA Datalink\"],\n            \"Doctors\" : [{\n              \"DocName\" : \"Alex Leow\",\n              \"Specialty\" : \"Gastroenterology\",\n              \"Hospital\" : \"Pantai Hospital Kuala Lumpur\",\n              \"YearsofPractice\" : 7,\n              \"Address\" : \"No. A103a - Endoscopy Centre, 1st Floor, Block A, 8, Jalan Bukit Pantai 59100 Kuala Lumpur\",\n              \"Phone\" : \" +603-2296 0763 Ext. 2763\",\n              \"Tags\" : [\n                {\n                  \"TagName\" : \"Bedside Manner\",\n                  \"Number\": 1\n                },\n                {\n                  \"TagName\" : \"Enthusiastic\",\n                  \"Number\": 10\n                },\n                {\n                  \"TagName\" : \"Friendly\",\n                  \"Number\": 5\n                }\n              ],\n              \"Appointment\" : {\n                \"Onsite\" : {\n                  \"Status\": \"Active\"\n                },\n                \"PhoneCall\" : {\n                  \"Content\": \"206-123-4567\",\n                  \"Status\": \"\"\n                },\n                \"Online\" : {\n                  \"Content\": \"https://www.pantai.com.my/kuala-lumpur\",\n                  \"Status\": \"Active\"\n                },\n                \"Email\" : {\n                  \"Content\": \"chenh57@uw.edu\",\n                  \"Status\": \"Active\"\n                }\n              },\n              \"Qulification\":\"MMed (Mal), MB. BCh. BAO. (Hons) LRCPI & LRCSI (Ire), B. Biomed Sci. (Hons) (UM)\",\n              \"Language\" : [\"English\", \"Mandarin\", \"Malay\", \"Hokkien\", \"Cantonese\"],\n              \"Type\": \"Private\",\n              \"Procedures\" : [\"Colonoscopy\", \"Gastroscopy\", \"Endoscopic Retrograde Cholangiopancreatography (ERCP)\", \"Fibroscan\", \"Liver Biopsy\", \"Endoscopic Ultrasound (EUS)\", \"Small Bowel Enteroscopy\", \"Capsule Endoscopy\"],\n              \"Conditions\" : [\"Helicobacter Pylori Infection\", \"Dyspepsia\", \"Gastro Esophageal Reflux Disease\", \"Fever\"],\n              \"NumberOfLikes\" : 12315\n            },\n            {\n                \"DocName\" : \"Alex Tan\",\n                \"Specialty\" : \"Gastroenterology\",\n                \"Hospital\" : \"Pantai Hospital Kuala Lumpur\",\n                \"YearsofPractice\" : 7,\n                \"Address\" : \"No. A103a - Endoscopy Centre, 1st Floor, Block A, 8, Jalan Bukit Pantai 59100 Kuala Lumpur\",\n                \"Phone\" : \" +603-123-2131\",\n                \"Tags\" : [\n                  {\n                    \"TagName\" : \"Bedside Manner\",\n                    \"Number\": 1\n                  },\n                  {\n                    \"TagName\" : \"Enthusiastic\",\n                    \"Number\": 10\n                  },\n                  {\n                    \"TagName\" : \"Friendly\",\n                    \"Number\": 5\n                  }\n                ],\n                \"Appointment\" : {\n                  \"Onsite\" : {\n                    \"Status\": \"Active\"\n                  },\n                  \"PhoneCall\" : {\n                    \"Content\": \"206-123-4567\",\n                    \"Status\": \"\"\n                  },\n                  \"Online\" : {\n                    \"Content\": \"https://www.pantai.com.my/kuala-lumpur\",\n                    \"Status\": \"Active\"\n                  },\n                  \"Email\" : {\n                    \"Content\": \"chenh57@uw.edu\",\n                    \"Status\": \"Active\"\n                  }\n                },\n                \"Qulification\":\"MMed (Mal), MB. BCh. BAO. (Hons) LRCPI & LRCSI (Ire), B. Biomed Sci. (Hons) (UM)\",\n                \"Language\" : [\"English\", \"Cantonese\"],\n                \"Type\": \"Private\",\n                \"Procedures\" : [\"Colonoscopy\", \"Gastroscopy\", \"Endoscopic Retrograde Cholangiopancreatography (ERCP)\", \"Fibroscan\", \"Liver Biopsy\", \"Endoscopic Ultrasound (EUS)\", \"Small Bowel Enteroscopy\", \"Capsule Endoscopy\"],\n                \"Conditions\" : [\"Helicobacter Pylori Infection\", \"Dyspepsia\", \"Gastro Esophageal Reflux Disease\"],\n                \"NumberOfLikes\" : 2333\n              }]\n          }]\n        }]\n      };          \n      let newDocData = [];\n      let newHosData = [];\n      let userKeyWords = keywords.replace(\" \", \"\").toLowerCase();\n      let locationInfo = location.replace(\" \", \"\");\n      console.log('keywords:'+ keywords);\n      console.log('location:'+locationInfo);\n      console.log('method:'+searchMethod);\n      if(searchMethod == 'Specialty'){\n          if (locationInfo == ''){\n              rootData[\"Specialty\"].forEach(specialtyItem => {\n                  let specialtyName = specialtyItem['Name'];\n                  specialtyName = specialtyName.replace(\" \", \"\").toLowerCase();\n                  if (userKeyWords == specialtyName){\n                      specialtyItem['Hospital'].forEach((hospital)=> {\n                          newHosData.push(hospital);\n                          newDocData.push.apply(newDocData,hospital[\"Doctors\"] )\n                      });\n                  }\n              });\n          } else {\n              rootData[\"Specialty\"].forEach(specialtyItem => {\n                  let specialtyName = specialtyItem['Name'];\n                  specialtyName = specialtyName.replace(\" \", \"\").toLowerCase();\n                  specialtyItem['Hospital'].forEach((hospital)=> {\n                      let locationZip = hospital['Zip'];\n                      if (locationZip == locationInfo && userKeyWords == specialtyName){\n                          newHosData.push(hospital);\n                          newDocData.push.apply(newDocData,hospital[\"Doctors\"] );\n                      }\n                  });\n              });\n          } \n      }  else if (searchMethod == 'Doctor'){\n          if (locationInfo == ''){\n              rootData[\"Specialty\"].forEach(specialtyItem => {\n                  let foundDoc = 0;\n                  specialtyItem['Hospital'].forEach((hospital)=>{\n                      let docName = hospital['Doctors'];\n                      docName.forEach((doctor) => {\n                          let docName = doctor['DocName'].replace(\" \", \"\").toLowerCase()\n                          if (docName == userKeyWords){\n                              newDocData.push(doctor);\n                              if (foundDoc == 0){\n                                newHosData.push(hospital);\n                              }\n                              foundDoc ++;\n                          }\n\n                      });\n                  })\n              });\n          } else {\n              rootData[\"Specialty\"].forEach(specialtyItem => {\n                  let foundDoc = 0;\n                  specialtyItem['Hospital'].forEach((hospital)=>{\n                      let locationZip = hospital['Zip'];\n                      let docName = hospital['Doctors'];\n                      docName.forEach((doctor) => {\n                          let docName = doctor['DocName']\n                          if (docName.replace(\" \", \"\").toLowerCase() == userKeyWords.toLowerCase() && locationZip == locationInfo){\n                              newDocData.push(doctor);\n                              foundDoc ++;\n                          }\n                          if (foundDoc == 1){\n                              newHosData.push(hospital);\n                          }\n                      });\n                  })\n              });\n          } \n      } else if (searchMethod == 'Hospital'){\n          if (locationInfo == ''){\n              rootData[\"Specialty\"].forEach(specialtyItem => {\n                  let foundTarget = true;\n                  let hosList = specialtyItem['Hospital'];\n                  hosList.forEach((hospital) => {\n                      let hosName = hospital['HospitalName'];\n                      hosName = hosName.replace(\" \", \"\").toLowerCase();\n                      if (userKeyWords.toLowerCase() == hosName){\n                          if (foundTarget){\n                              newHosData.push(hospital);\n                          }\n                          newDocData.push.apply(newDocData,hospital[\"Doctors\"]);\n                          foundTarget = false;\n                      }\n                  })\n              });\n          } else {\n              rootData[\"Specialty\"].forEach(specialtyItem => {\n                  let foundTarget = true;\n                  let hosList = specialtyItem['Hospital'];\n                  hosList.forEach((hospital) => {\n                      let hosName = hospital['HospitalName'];\n                      let locationZip = hospital['Zip'];\n                      hosName = hosName.replace(\" \", \"\").toLowerCase();\n                      if (userKeyWords.toLowerCase() == hosName && locationZip == locationInfo){\n                          if (foundTarget){\n                              newHosData.push(hospital);\n                          }\n                          newDocData.push.apply(newDocData,hospital[\"Doctors\"]);\n                          foundTarget = false;\n                      }\n                  })\n              });\n          } \n\n      } else {\n          if (locationInfo == ''){\n              rootData[\"Specialty\"].forEach(specialtyItem => {\n                  let condtionList = specialtyItem['Condition'];\n                  condtionList = condtionList.map(function(item) { return item.toLowerCase(); });\n                  if (condtionList.includes(userKeyWords)){\n                      specialtyItem[\"Hospital\"].forEach((hospital) => {\n                          newHosData.push(hospital);\n                          hospital['Doctors'].forEach((doctor) => {\n                              let docCondition = doctor['Conditions'];\n                              docCondition = docCondition.map(function(item) { return item.toLowerCase(); });\n                              if (docCondition.includes(userKeyWords)){\n                                  newDocData.push(doctor);\n                              }\n                          });\n                      })\n                  }\n              });\n          } else {\n              rootData[\"Specialty\"].forEach(specialtyItem => {\n                  let condtionList = specialtyItem['Condition'];\n                  condtionList = condtionList.map(function(item) { return item.toLowerCase(); });\n                  specialtyItem[\"Hospital\"].forEach((hospital) => {\n                      let locationZip = hospital['Zip'];\n                      if (locationZip == locationInfo && condtionList.includes(userKeyWords)){\n                          newHosData.push(hospital);\n                          hospital['Doctors'].forEach((doctor) => {\n                              let docCondition = doctor['Conditions'];\n                              docCondition = docCondition.map(function(item) { return item.toLowerCase(); });\n                              if (docCondition.includes(userKeyWords)){\n                                  newDocData.push(doctor);\n                              }\n                          });\n                      }\n\n                  });\n              });\n          } \n      }\n      sethospitalInfo(newHosData);\n      setDocInfo(newDocData);\n      if (pageProps.history != null){\n        // reset default search method\n        getSearchMethod('Specialty');\n        getKeyWords('');\n        pageProps.history.push('/results');\n      }\n\n    }\n    \n    return function resetSearchStatus(){\n      setSearchBegin(false);\n      \n    }\n\n  }\n\n\n\n\n\n\n  const renderHome = (renderProps) => {\n    return <Home {...renderProps} \n                    setDocInfo={setDocInfo} \n                    sethospitalInfo={sethospitalInfo} \n                    doMainSearch={doMainSearch}\n                    getLocationValue={getLocationValue}\n                    getKeyWords={getKeyWords}\n                    startSearch={startSearch}\n                    getSearchMethod={getSearchMethod}\n                    searchBegin={searchBegin}\n                   />\n  }\n  const renderResults = (renderProps) => {\n    return <Results {...renderProps} \n                      setDocInfo={setDocInfo} \n                      sethospitalInfo={sethospitalInfo} \n                      docInfo={docInfo} \n                      hospitalInfo ={hospitalInfo}\n                      doMainSearch={doMainSearch}\n                      getLocationValue={getLocationValue}\n                      getKeyWords={getKeyWords}\n                      startSearch={startSearch}\n                      getSearchMethod={getSearchMethod}/>\n\n  }\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Provider store={store}>\n        <Router>\n          <Switch>\n            <div className=\"container\">\n              <Route exact path=\"/\" render={renderHome}></Route>\n              <AuthRoute exact path=\"/login\" component={login} />\n              <AuthRoute exact path=\"/signup\" component={signup} />\n              <Route exact path=\"/covid19\" component={covid}></Route>\n              <Route exact path=\"/results\" render={renderResults}></Route>\n            </div>\n          </Switch>\n        </Router>\n      </Provider>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}