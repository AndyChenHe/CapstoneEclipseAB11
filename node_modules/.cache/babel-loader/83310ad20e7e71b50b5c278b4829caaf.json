{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andychenhe/Desktop/CapstoneEclipseAB11/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/andychenhe/Desktop/CapstoneEclipseAB11/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/andychenhe/Desktop/CapstoneEclipseAB11/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import\"./css/login.css\";import axios from\"axios\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import jwtDecode from\"jwt-decode\";import AuthRoute from\"./util/AuthRoute\";import{useState,useEffect}from\"react\";// material ui theme\nimport{ThemeProvider as MuiThemeProvider}from\"@material-ui/core/styles\";import createMuiTheme from\"@material-ui/core/styles/createMuiTheme\";import themeFile from\"./util/theme\";//redux\nimport{Provider}from\"react-redux\";import store from\"./redux/store\";import{SET_AUTHENTICATED}from\"./redux/types\";import{logoutUser,getUserData}from\"./redux/actions/userActions\";// pages\nimport Home from\"./pages/Home\";import login from\"./pages/Login\";import signup from\"./pages/Signup\";import covid from\"./pages/Covid\";import Results from\"./pages/Results\";import Docprofile from\"./pages/DocProfile\";import Hospprofile from\"./pages/HospProfile\";//新加的 5/1/2020\nimport Hospspecialtyprofile from\"./pages/HospSpecialtyProfile\";import Docaccount from\"./pages/DocAccount\";// use themeFile from theme.js\nvar theme=createMuiTheme(themeFile);// set up api\naxios.defaults.baseURL=\"https://us-central1-mydoc-f3cd9.cloudfunctions.net/api/\";// backend stuff\nvar token=localStorage.FBIdToken;if(token){var decodedToken=jwtDecode(token);// log user out when expire\nif(decodedToken.exp*1000<Date.now()){store.dispatch(logoutUser());window.location.href=\"/login\";}else{store.dispatch({type:SET_AUTHENTICATED});axios.defaults.headers.common[\"Authorization\"]=token;//deal with page refresh\nstore.dispatch(getUserData());// get user data if logged in\n}}// set up material ui theme\n// route to home/login/sign up\nfunction App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),docInfo=_useState2[0],setDocInfo=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),hospitalInfo=_useState4[0],sethospitalInfo=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),docInfoCopy=_useState6[0],setDocInfoCopy=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),hospitalInfoCopy=_useState8[0],sethospitalInfoCopy=_useState8[1];var _React$useState=React.useState(\"Specialty\"),_React$useState2=_slicedToArray(_React$useState,2),searchMethod=_React$useState2[0],setSearchMethod=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),keywords=_React$useState4[0],setKeywords=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),location=_React$useState6[0],setLocation=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),searchBegin=_React$useState8[0],setSearchBegin=_React$useState8[1];var _React$useState9=React.useState(\"both\"),_React$useState10=_slicedToArray(_React$useState9,2),hosType=_React$useState10[0],setHosType=_React$useState10[1];var _React$useState11=React.useState([]),_React$useState12=_slicedToArray(_React$useState11,2),languageList=_React$useState12[0],setLanguageList=_React$useState12[1];var _React$useState13=React.useState([1000,-1]),_React$useState14=_slicedToArray(_React$useState13,2),yearOfPractice=_React$useState14[0],setyearOfPractice=_React$useState14[1];var _React$useState15=React.useState([]),_React$useState16=_slicedToArray(_React$useState15,2),filterlocation=_React$useState16[0],setFilterlocation=_React$useState16[1];var _React$useState17=React.useState(false),_React$useState18=_slicedToArray(_React$useState17,2),filterBegin=_React$useState18[0],setFilterBegin=_React$useState18[1];var _React$useState19=React.useState(null),_React$useState20=_slicedToArray(_React$useState19,2),targetDoc=_React$useState20[0],setTargetDoc=_React$useState20[1];var _React$useState21=React.useState(null),_React$useState22=_slicedToArray(_React$useState21,2),targetHos=_React$useState22[0],setTargetHos=_React$useState22[1];var proxyurl=\"https://cors-anywhere.herokuapp.com/\";var _React$useState23=React.useState(0),_React$useState24=_slicedToArray(_React$useState23,2),componentDidMountIndicator=_React$useState24[0],setComponentDidMount=_React$useState24[1];var _React$useState25=React.useState(0),_React$useState26=_slicedToArray(_React$useState25,2),conditionListForInput=_React$useState26[0],setConditionListForInput=_React$useState26[1];useEffect(function(){if(componentDidMountIndicator==0){axios.get(proxyurl+'https://us-central1-mydoc-f3cd9.cloudfunctions.net/getSpecialty').then(function(res){setConditionListForInput(res.data);});setComponentDidMount(1);}});var getLocationValue=function getLocationValue(value){setLocation(value);};var getKeyWords=function getKeyWords(value){setKeywords(value);};var getSearchMethod=function getSearchMethod(value){setSearchMethod(value);setKeywords(\"\");};var startSearch=function startSearch(){setSearchBegin(true);};var filterHosType=function filterHosType(type){setHosType(type);setFilterBegin(true);};var filterLanguageList=function filterLanguageList(lang){setLanguageList(lang);setFilterBegin(true);};var filterYear=function filterYear(range){setyearOfPractice(range);setFilterBegin(true);};var updateTargetDoc=function updateTargetDoc(doctor){setTargetDoc(doctor);};var updateTargetHos=function updateTargetHos(hospital){setTargetHos(hospital);};var filterFunction=function filterFunction(){var newDocList=[];var newHospitalList=[];docInfoCopy.forEach(function(doctor){var validateType=doctor[\"Type\"].toLowerCase()==hosType.toLowerCase()||hosType.toLowerCase()==\"both\";var validateLanguage=languageList.every(function(element){return doctor[\"Language\"].indexOf(element)>-1;})||languageList==[];var validateYear=yearOfPractice[0]<=doctor[\"YearsofPractice\"]&&yearOfPractice[1]>=doctor[\"YearsofPractice\"]||yearOfPractice[0]==1000;if(validateType&&validateLanguage&&validateYear){newDocList.push(doctor);}});hospitalInfoCopy.forEach(function(hos){var validateType=hos[\"HospitalType\"].toLowerCase()==hosType.toLowerCase()||hosType.toLowerCase()==\"both\";var validateLanguage=languageList.every(function(element){return hos[\"Language\"].indexOf(element)>-1;})||languageList==[];if(validateType&&validateLanguage){newHospitalList.push(hos);}});setDocInfo(newDocList);sethospitalInfo(newHospitalList);};useEffect(function(){if(filterBegin){filterFunction();return setFilterBegin(false);}});var doMainSearch=function doMainSearch(pageProps){if(searchBegin){var rootData={Gastroenterology:{Name:\"Gastroenterology\",Condition:[\"Fever\",\"Headache\"],Hospital:{PantaiHospitalKualaLumpur:{HospitalName:\"Pantai Hospital Kuala Lumpur\",HospitalType:\"Private\",Language:[\"English\",\"Mandarin\",\"Malay\",\"Hokkien\",\"Cantonese\"],likes:10000000,RelateSpecialty:\"Gastroenterology\",Web:\"https://www.pantai.com.my/kuala-lumpur\",Hours:\"24 hours\",Address:\"8, Jalan Bukit Pantai 59100 Kuala Lumpur\",Zip:\"92310\",Phone:\"+603-2296 0888\",Tags:[{TagName:\"Customer Service\",Number:2},{TagName:\"Facility\",Number:3},{TagName:\"Friendly\",Number:5}],Insurance:[\"Asia Assistance Network\",\"AIA\",\"AIA - Employee Benefit\",\"AIA Datalink\"],TopSpecialty:[{SpecialtyName:\"Gastroenterology\",Likes:10},{SpecialtyName:\"TestA\",Likes:5},{SpecialtyName:\"TestB\",Likes:6},{SpecialtyName:\"TestC\",Likes:1}],Doctors:{AlexLeow1:{DocName:\"Alex Leow1\",Specialty:\"Gastroenterology\",Hospital:\"Pantai Hospital Kuala Lumpur\",YearsofPractice:7,Address:\"No. A103a - Endoscopy Centre, 1st Floor, Block A, 8, Jalan Bukit Pantai 59100 Kuala Lumpur\",Phone:\" +603-2296 0763 Ext. 1111\",Tags:[{TagName:\"Bedside Manner\",Number:1},{TagName:\"Enthusiastic\",Number:10},{TagName:\"Friendly\",Number:5}],Appointment:{Onsite:{Content:\"Onsite\",Status:\"Active\"},PhoneCall:{Content:\"206-123-4567\",Status:\"\"},Online:{Content:\"https://www.pantai.com.my/kuala-lumpur\",Status:\"Active\"},Email:{Content:\"chenh57@uw.edu\",Status:\"Active\"}},Qualification:\"MMed (Mal), MB. BCh. BAO. (Hons) LRCPI & LRCSI (Ire), B. Biomed Sci. (Hons) (UM)\",Language:[\"English\",\"Mandarin\",\"Malay\",\"Hokkien\",\"Cantonese\"],Type:\"Private\",Procedures:[\"Colonoscopy\",\"Gastroscopy\",\"Endoscopic Retrograde Cholangiopancreatography (ERCP)\",\"Fibroscan\",\"Liver Biopsy\",\"Endoscopic Ultrasound (EUS)\",\"Small Bowel Enteroscopy\",\"Capsule Endoscopy\"],Conditions:[\"Helicobacter Pylori Infection\",\"Dyspepsia\",\"Gastro Esophageal Reflux Disease\",\"Fever\"],NumberOfLikes:12315},AlexLeow2:{DocName:\"Alex Leow2\",Specialty:\"Gastroenterology\",Hospital:\"Pantai Hospital Kuala Lumpur\",YearsofPractice:7,Address:\"No. A103a - Endoscopy Centre, 1st Floor, Block A, 8, Jalan Bukit Pantai 59100 Kuala Lumpur\",Phone:\" +603-2296 0763 Ext. 1111\",Tags:[{TagName:\"Bedside Manner\",Number:1},{TagName:\"Enthusiastic\",Number:10},{TagName:\"Friendly\",Number:5}],Appointment:{Onsite:{Content:\"Onsite\",Status:\"Active\"},PhoneCall:{Content:\"206-123-4567\",Status:\"\"},Online:{Content:\"https://www.pantai.com.my/kuala-lumpur\",Status:\"Active\"},Email:{Content:\"chenh57@uw.edu\",Status:\"Active\"}},Qualification:\"MMed (Mal), MB. BCh. BAO. (Hons) LRCPI & LRCSI (Ire), B. Biomed Sci. (Hons) (UM)\",Language:[\"English\",\"Mandarin\",\"Malay\",\"Hokkien\",\"Cantonese\"],Type:\"Private\",Procedures:[\"Colonoscopy\",\"Gastroscopy\",\"Endoscopic Retrograde Cholangiopancreatography (ERCP)\",\"Fibroscan\",\"Liver Biopsy\",\"Endoscopic Ultrasound (EUS)\",\"Small Bowel Enteroscopy\",\"Capsule Endoscopy\"],Conditions:[\"Helicobacter Pylori Infection\",\"Dyspepsia\",\"Gastro Esophageal Reflux Disease\",\"Fever\"],NumberOfLikes:12315}}}}}};var userKeyWords=keywords.replace(\" \",\"\").toLowerCase();var newDocData=[];var newHosData=[];getNewDocAndHospital(rootData,userKeyWords).then(function(res){newDocData=res.newDocData;newHosData=res.newHosData;}).then(function(){sethospitalInfo(newHosData);setDocInfo(newDocData);sethospitalInfoCopy(newHosData);setDocInfoCopy(newDocData);if(pageProps.history!=null){pageProps.history.push(\"/results\");}}).catch(function(error){console.error(error);});}return function resetSearchStatus(){setSearchBegin(false);};};var getNewDocAndHospital=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(rootData,userKeyWords){var newDocData,newHosData,specialty,hospital,_hospitalInfo,doctor,_hospital,_hospitalInfo2,potentialLocation,distanceInfo,duration,_doctor,_specialty,hos,potentialHos,docFound,_doctor2,targetDoctor,_potentialLocation,_distanceInfo,_duration,_docFound,_doctor3,_targetDoctor,_specialty2,_hos,_potentialHos,locationMatch,hosNameMacth,_potentialLocation2,_distanceInfo2,_duration2,_doctor4,_specialty3,conditionList,_locationMatch,conditionMatch,_hos2,_potentialHos2,_potentialLocation3,_distanceInfo3,_duration3,_doctor5,doctorCondition;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newDocData=[];newHosData=[];if(!(searchMethod=='Specialty')){_context.next=30;break;}_context.t0=_regeneratorRuntime.keys(rootData);case 4:if((_context.t1=_context.t0()).done){_context.next=28;break;}specialty=_context.t1.value;if(!(specialty.replace(\" \",\"\").toLowerCase()==userKeyWords)){_context.next=26;break;}if(!(location=='')){_context.next=11;break;}for(hospital in rootData[specialty]['Hospital']){_hospitalInfo=rootData[specialty]['Hospital'][hospital];newHosData.push(_hospitalInfo);for(doctor in _hospitalInfo['Doctors']){newDocData.push(_hospitalInfo['Doctors'][doctor]);}}_context.next=26;break;case 11:_context.t2=_regeneratorRuntime.keys(rootData[specialty]['Hospital']);case 12:if((_context.t3=_context.t2()).done){_context.next=26;break;}_hospital=_context.t3.value;_hospitalInfo2=rootData[specialty]['Hospital'][_hospital];potentialLocation=_hospitalInfo2.Address;_context.next=18;return axios.get(proxyurl+'https://maps.googleapis.com/maps/api/distancematrix/json',{params:{origins:location,destinations:potentialLocation,key:'AIzaSyDHEaLdiFVUAJGJUW9fqq_VhOhBL4FzebQ'}});case 18:distanceInfo=_context.sent;_context.next=21;return distanceInfo.data.rows[0].elements[0].duration.value;case 21:_context.t4=_context.sent;duration=_context.t4/3600;if(duration<1.5){newHosData.push(_hospitalInfo2);for(_doctor in _hospitalInfo2['Doctors']){newDocData.push(_hospitalInfo2['Doctors'][_doctor]);}}_context.next=12;break;case 26:_context.next=4;break;case 28:_context.next=115;break;case 30:if(!(searchMethod==\"Doctor\")){_context.next=58;break;}_context.t5=_regeneratorRuntime.keys(rootData);case 32:if((_context.t6=_context.t5()).done){_context.next=56;break;}_specialty=_context.t6.value;_context.t7=_regeneratorRuntime.keys(rootData[_specialty]['Hospital']);case 35:if((_context.t8=_context.t7()).done){_context.next=54;break;}hos=_context.t8.value;potentialHos=rootData[_specialty]['Hospital'][hos];if(!(location=='')){_context.next=43;break;}docFound=0;for(_doctor2 in potentialHos['Doctors']){targetDoctor=potentialHos['Doctors'][_doctor2];if(targetDoctor['DocName'].replace(\" \",\"\").toLowerCase().includes(userKeyWords.replace(\" \",\"\").toLowerCase())){newDocData.push(targetDoctor);docFound++;}if(docFound==1){newHosData.push(potentialHos);}}_context.next=52;break;case 43:_potentialLocation=potentialHos.Address;_context.next=46;return axios.get(proxyurl+'https://maps.googleapis.com/maps/api/distancematrix/json',{params:{origins:location,destinations:_potentialLocation,key:'AIzaSyDHEaLdiFVUAJGJUW9fqq_VhOhBL4FzebQ'}});case 46:_distanceInfo=_context.sent;_context.next=49;return _distanceInfo.data.rows[0].elements[0].duration.value;case 49:_context.t9=_context.sent;_duration=_context.t9/3600;if(_duration<1.5){_docFound=0;for(_doctor3 in potentialHos['Doctors']){_targetDoctor=potentialHos['Doctors'][_doctor3];if(_targetDoctor['DocName'].replace(\" \",\"\").toLowerCase().includes(userKeyWords.replace(\" \",\"\").toLowerCase())){newDocData.push(_targetDoctor);_docFound++;}if(_docFound==1){newHosData.push(potentialHos);}}}case 52:_context.next=35;break;case 54:_context.next=32;break;case 56:_context.next=115;break;case 58:if(!(searchMethod==\"Hospital\")){_context.next=86;break;}_context.t10=_regeneratorRuntime.keys(rootData);case 60:if((_context.t11=_context.t10()).done){_context.next=84;break;}_specialty2=_context.t11.value;_context.t12=_regeneratorRuntime.keys(rootData[_specialty2]['Hospital']);case 63:if((_context.t13=_context.t12()).done){_context.next=82;break;}_hos=_context.t13.value;_potentialHos=rootData[_specialty2]['Hospital'][_hos];locationMatch=true;hosNameMacth=_potentialHos['HospitalName'].replace(\" \",\"\").toLowerCase()==userKeyWords;if(!hosNameMacth){_context.next=80;break;}if(!(location!='')){_context.next=79;break;}_potentialLocation2=_potentialHos.Address;_context.next=73;return axios.get(proxyurl+'https://maps.googleapis.com/maps/api/distancematrix/json',{params:{origins:location,destinations:_potentialLocation2,key:'AIzaSyDHEaLdiFVUAJGJUW9fqq_VhOhBL4FzebQ'}});case 73:_distanceInfo2=_context.sent;_context.next=76;return _distanceInfo2.data.rows[0].elements[0].duration.value;case 76:_context.t14=_context.sent;_duration2=_context.t14/3600;if(_duration2>1.5){locationMatch=false;}case 79:if(locationMatch){newHosData.push(_potentialHos);for(_doctor4 in _potentialHos['Doctors']){newDocData.push(_potentialHos['Doctors'][_doctor4]);}}case 80:_context.next=63;break;case 82:_context.next=60;break;case 84:_context.next=115;break;case 86:_context.t15=_regeneratorRuntime.keys(rootData);case 87:if((_context.t16=_context.t15()).done){_context.next=115;break;}_specialty3=_context.t16.value;conditionList=rootData[_specialty3]['Condition'];conditionList=conditionList.map(function(item){return item.toLowerCase();});_locationMatch=true;conditionMatch=conditionList.includes(userKeyWords);console.log(conditionMatch);if(!conditionMatch){_context.next=113;break;}_context.t17=_regeneratorRuntime.keys(rootData[_specialty3]['Hospital']);case 96:if((_context.t18=_context.t17()).done){_context.next=113;break;}_hos2=_context.t18.value;_potentialHos2=rootData[_specialty3]['Hospital'][_hos2];_potentialLocation3=_potentialHos2.Address;console.log(_potentialLocation3);if(!(location!='')){_context.next=110;break;}_context.next=104;return axios.get(proxyurl+'https://maps.googleapis.com/maps/api/distancematrix/json',{params:{origins:location,destinations:_potentialLocation3,key:'AIzaSyDHEaLdiFVUAJGJUW9fqq_VhOhBL4FzebQ'}});case 104:_distanceInfo3=_context.sent;_context.next=107;return _distanceInfo3.data.rows[0].elements[0].duration.value;case 107:_context.t19=_context.sent;_duration3=_context.t19/3600;if(_duration3>1.5){_locationMatch=false;}case 110:if(_locationMatch){newHosData.push(_potentialHos2);for(_doctor5 in _potentialHos2['Doctors']){doctorCondition=_potentialHos2['Doctors'][_doctor5]['Conditions'];doctorCondition=doctorCondition.map(function(item){return item.toLowerCase();});if(doctorCondition.includes(userKeyWords)){newDocData.push(_potentialHos2['Doctors'][_doctor5]);}}}_context.next=96;break;case 113:_context.next=87;break;case 115:console.log(newDocData);console.log(newHosData);return _context.abrupt(\"return\",{newDocData:newDocData,newHosData:newHosData});case 118:case\"end\":return _context.stop();}}},_callee);}));return function getNewDocAndHospital(_x,_x2){return _ref.apply(this,arguments);};}();var renderHome=function renderHome(renderProps){return/*#__PURE__*/React.createElement(Home,Object.assign({},renderProps,{setDocInfo:setDocInfo,sethospitalInfo:sethospitalInfo,doMainSearch:doMainSearch,getLocationValue:getLocationValue,getKeyWords:getKeyWords,startSearch:startSearch,getSearchMethod:getSearchMethod,searchBegin:searchBegin,setSearchMethod:setSearchMethod,setKeywords:setKeywords,conditionListForInput:conditionListForInput}));};var renderResults=function renderResults(renderProps){return/*#__PURE__*/React.createElement(Results,Object.assign({},renderProps,{setDocInfo:setDocInfo,sethospitalInfo:sethospitalInfo,docInfo:docInfo,hospitalInfo:hospitalInfo,doMainSearch:doMainSearch,getLocationValue:getLocationValue,getKeyWords:getKeyWords,startSearch:startSearch,searchBegin:searchBegin,setSearchMethod:setSearchMethod,setKeywords:setKeywords,getSearchMethod:getSearchMethod,filterHosType:filterHosType,filterLanguageList:filterLanguageList,filterYear:filterYear,updateTargetDoc:updateTargetDoc,updateTargetHos:updateTargetHos,conditionListForInput:conditionListForInput}));};var renderDocProfile=function renderDocProfile(renderProps){return/*#__PURE__*/React.createElement(Docprofile,Object.assign({},renderProps,{setDocInfo:setDocInfo,sethospitalInfo:sethospitalInfo,docInfo:docInfo,hospitalInfo:hospitalInfo,doMainSearch:doMainSearch,getLocationValue:getLocationValue,getKeyWords:getKeyWords,startSearch:startSearch,searchBegin:searchBegin,setSearchMethod:setSearchMethod,setKeywords:setKeywords,getSearchMethod:getSearchMethod,targetDoc:targetDoc,conditionListForInput:conditionListForInput}));};var renderHosProfile=function renderHosProfile(renderProps){return/*#__PURE__*/React.createElement(Hospprofile,Object.assign({},renderProps,{setDocInfo:setDocInfo,sethospitalInfo:sethospitalInfo,docInfo:docInfo,hospitalInfo:hospitalInfo,doMainSearch:doMainSearch,getLocationValue:getLocationValue,getKeyWords:getKeyWords,startSearch:startSearch,searchBegin:searchBegin,setSearchMethod:setSearchMethod,setKeywords:setKeywords,getSearchMethod:getSearchMethod,updateTargetDoc:updateTargetDoc,targetHos:targetHos}));};// michelle改的/加的\nvar renderDocAccount=function renderDocAccount(renderProps){return/*#__PURE__*/React.createElement(Docaccount,{index:0});};var renderDocAccountEditProfile=function renderDocAccountEditProfile(renderProps){return/*#__PURE__*/React.createElement(Docaccount,{index:1});};var renderSaved=function renderSaved(renderProps){return/*#__PURE__*/React.createElement(Docaccount,{index:2});};var renderLikeHistory=function renderLikeHistory(renderProps){return/*#__PURE__*/React.createElement(Docaccount,{index:3});};var renderDocAccountVerification=function renderDocAccountVerification(renderProps){return/*#__PURE__*/React.createElement(Docaccount,{index:4});};var renderAccountSettings=function renderAccountSettings(renderProps){return/*#__PURE__*/React.createElement(Docaccount,{index:5});};return/*#__PURE__*/React.createElement(MuiThemeProvider,{theme:theme},/*#__PURE__*/React.createElement(Provider,{store:store},/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:renderHome}),/*#__PURE__*/React.createElement(AuthRoute,{exact:true,path:\"/login\",component:login}),/*#__PURE__*/React.createElement(AuthRoute,{exact:true,path:\"/signup\",component:signup}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/covid19\",component:covid}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/results\",render:renderResults}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/docprofile\",render:renderDocProfile}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/hospprofile\",render:renderHosProfile}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/hospspecialtyprofile\",component:Hospspecialtyprofile}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/docaccount\",render:renderDocAccount,index:0}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/profile\",render:renderDocAccountEditProfile,index:1}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/saved\",render:renderSaved,index:2}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/likehistory\",render:renderLikeHistory,index:3}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/accountverification\",render:renderDocAccountVerification,index:4}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/accountsettings\",render:renderAccountSettings,index:5}))))));}export default App;","map":{"version":3,"sources":["/Users/andychenhe/Desktop/CapstoneEclipseAB11/src/App.js"],"names":["React","axios","BrowserRouter","Router","Switch","Route","jwtDecode","AuthRoute","useState","useEffect","ThemeProvider","MuiThemeProvider","createMuiTheme","themeFile","Provider","store","SET_AUTHENTICATED","logoutUser","getUserData","Home","login","signup","covid","Results","Docprofile","Hospprofile","Hospspecialtyprofile","Docaccount","theme","defaults","baseURL","token","localStorage","FBIdToken","decodedToken","exp","Date","now","dispatch","window","location","href","type","headers","common","App","docInfo","setDocInfo","hospitalInfo","sethospitalInfo","docInfoCopy","setDocInfoCopy","hospitalInfoCopy","sethospitalInfoCopy","searchMethod","setSearchMethod","keywords","setKeywords","setLocation","searchBegin","setSearchBegin","hosType","setHosType","languageList","setLanguageList","yearOfPractice","setyearOfPractice","filterlocation","setFilterlocation","filterBegin","setFilterBegin","targetDoc","setTargetDoc","targetHos","setTargetHos","proxyurl","componentDidMountIndicator","setComponentDidMount","conditionListForInput","setConditionListForInput","get","then","res","data","getLocationValue","value","getKeyWords","getSearchMethod","startSearch","filterHosType","filterLanguageList","lang","filterYear","range","updateTargetDoc","doctor","updateTargetHos","hospital","filterFunction","newDocList","newHospitalList","forEach","validateType","toLowerCase","validateLanguage","every","element","indexOf","validateYear","push","hos","doMainSearch","pageProps","rootData","Gastroenterology","Name","Condition","Hospital","PantaiHospitalKualaLumpur","HospitalName","HospitalType","Language","likes","RelateSpecialty","Web","Hours","Address","Zip","Phone","Tags","TagName","Number","Insurance","TopSpecialty","SpecialtyName","Likes","Doctors","AlexLeow1","DocName","Specialty","YearsofPractice","Appointment","Onsite","Content","Status","PhoneCall","Online","Email","Qualification","Type","Procedures","Conditions","NumberOfLikes","AlexLeow2","userKeyWords","replace","newDocData","newHosData","getNewDocAndHospital","history","catch","error","console","resetSearchStatus","specialty","potentialLocation","params","origins","destinations","key","distanceInfo","rows","elements","duration","potentialHos","docFound","targetDoctor","includes","locationMatch","hosNameMacth","conditionList","map","item","conditionMatch","log","doctorCondition","renderHome","renderProps","renderResults","renderDocProfile","renderHosProfile","renderDocAccount","renderDocAccountEditProfile","renderSaved","renderLikeHistory","renderDocAccountVerification","renderAccountSettings"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./css/login.css\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport jwtDecode from \"jwt-decode\";\nimport AuthRoute from \"./util/AuthRoute\";\nimport { useState, useEffect } from \"react\";\n\n// material ui theme\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\nimport themeFile from \"./util/theme\";\n\n//redux\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport { SET_AUTHENTICATED } from \"./redux/types\";\nimport { logoutUser, getUserData } from \"./redux/actions/userActions\";\n\n// pages\nimport Home from \"./pages/Home\";\nimport login from \"./pages/Login\";\nimport signup from \"./pages/Signup\";\nimport covid from \"./pages/Covid\";\nimport Results from \"./pages/Results\";\nimport Docprofile from \"./pages/DocProfile\";\nimport Hospprofile from \"./pages/HospProfile\";\n\n//新加的 5/1/2020\nimport Hospspecialtyprofile from \"./pages/HospSpecialtyProfile\";\nimport Docaccount from \"./pages/DocAccount\";\n\n\n// use themeFile from theme.js\nconst theme = createMuiTheme(themeFile);\n\n// set up api\naxios.defaults.baseURL =\n  \"https://us-central1-mydoc-f3cd9.cloudfunctions.net/api/\";\n\n// backend stuff\nconst token = localStorage.FBIdToken;\n\nif (token) {\n  const decodedToken = jwtDecode(token);\n  // log user out when expire\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutUser());\n    window.location.href = \"/login\";\n  } else {\n    store.dispatch({ type: SET_AUTHENTICATED });\n    axios.defaults.headers.common[\"Authorization\"] = token; //deal with page refresh\n    store.dispatch(getUserData()); // get user data if logged in\n  }\n}\n\n// set up material ui theme\n// route to home/login/sign up\nfunction App() {\n  const [docInfo, setDocInfo] = useState([]);\n  const [hospitalInfo, sethospitalInfo] = useState([]);\n  const [docInfoCopy, setDocInfoCopy] = useState([]);\n  const [hospitalInfoCopy, sethospitalInfoCopy] = useState([]);\n  const [searchMethod, setSearchMethod] = React.useState(\"Specialty\");\n  const [keywords, setKeywords] = React.useState(\"\");\n  const [location, setLocation] = React.useState(\"\");\n  const [searchBegin, setSearchBegin] = React.useState(false);\n  const [hosType, setHosType] = React.useState(\"both\");\n  const [languageList, setLanguageList] = React.useState([]);\n  const [yearOfPractice, setyearOfPractice] = React.useState([1000, -1]);\n  const [filterlocation, setFilterlocation] = React.useState([]);\n  const [filterBegin, setFilterBegin] = React.useState(false);\n  const [targetDoc, setTargetDoc] = React.useState(null);\n  const [targetHos, setTargetHos] = React.useState(null);\n  const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n  const [componentDidMountIndicator, setComponentDidMount] = React.useState(0);\n  const [conditionListForInput, setConditionListForInput] = React.useState(0);\n\n  useEffect(() => {\n    if(componentDidMountIndicator == 0){\n      axios.get(proxyurl+'https://us-central1-mydoc-f3cd9.cloudfunctions.net/getSpecialty')\n      .then((res)=>{\n        setConditionListForInput(res.data);\n      });\n      setComponentDidMount(1);\n    }\n  });\n\n\n  const getLocationValue = (value) => {\n    setLocation(value);\n  };\n\n  const getKeyWords = (value) => {\n    setKeywords(value);\n  };\n\n  const getSearchMethod = (value) => {\n    setSearchMethod(value);\n    setKeywords(\"\");\n  };\n\n  const startSearch = () => {\n    setSearchBegin(true);\n  };\n\n  const filterHosType = (type) => {\n    setHosType(type);\n    setFilterBegin(true);\n  };\n\n  const filterLanguageList = (lang) => {\n    setLanguageList(lang);\n    setFilterBegin(true);\n  };\n\n  const filterYear = (range) => {\n    setyearOfPractice(range);\n    setFilterBegin(true);\n  };\n\n  const updateTargetDoc = (doctor) => {\n    setTargetDoc(doctor);\n  };\n\n  const updateTargetHos = (hospital) => {\n    setTargetHos(hospital);\n  };\n\n  const filterFunction = () => {\n    let newDocList = [];\n    let newHospitalList = [];\n    docInfoCopy.forEach((doctor) => {\n      let validateType =\n        doctor[\"Type\"].toLowerCase() == hosType.toLowerCase() ||\n        hosType.toLowerCase() == \"both\";\n      let validateLanguage =\n        languageList.every(\n          (element) => doctor[\"Language\"].indexOf(element) > -1\n        ) || languageList == [];\n      let validateYear =\n        (yearOfPractice[0] <= doctor[\"YearsofPractice\"] &&\n          yearOfPractice[1] >= doctor[\"YearsofPractice\"]) ||\n        yearOfPractice[0] == 1000;\n      if (validateType && validateLanguage && validateYear) {\n        newDocList.push(doctor);\n      }\n    });\n\n    hospitalInfoCopy.forEach((hos) => {\n      let validateType =\n        hos[\"HospitalType\"].toLowerCase() == hosType.toLowerCase() ||\n        hosType.toLowerCase() == \"both\";\n      let validateLanguage =\n        languageList.every(\n          (element) => hos[\"Language\"].indexOf(element) > -1\n        ) || languageList == [];\n      if (validateType && validateLanguage) {\n        newHospitalList.push(hos);\n      }\n    });\n    setDocInfo(newDocList);\n    sethospitalInfo(newHospitalList);\n  };\n\n  useEffect(() => {\n    if (filterBegin) {\n      filterFunction();\n      return setFilterBegin(false);\n    }\n  });\n\n  const doMainSearch = (pageProps) => {\n    if (searchBegin) {\n      let rootData = {\n        Gastroenterology: \n          {\n            Name: \"Gastroenterology\",\n            Condition: [\"Fever\", \"Headache\"],\n            Hospital: {\n              PantaiHospitalKualaLumpur : {\n                HospitalName: \"Pantai Hospital Kuala Lumpur\",\n                HospitalType: \"Private\",\n                Language: [\n                  \"English\",\n                  \"Mandarin\",\n                  \"Malay\",\n                  \"Hokkien\",\n                  \"Cantonese\",\n                ],\n                likes: 10000000,\n                RelateSpecialty: \"Gastroenterology\",\n                Web: \"https://www.pantai.com.my/kuala-lumpur\",\n                Hours: \"24 hours\",\n                Address: \"8, Jalan Bukit Pantai 59100 Kuala Lumpur\",\n                Zip: \"92310\",\n                Phone: \"+603-2296 0888\",\n                Tags: [\n                  {\n                    TagName: \"Customer Service\",\n                    Number: 2,\n                  },\n                  {\n                    TagName: \"Facility\",\n                    Number: 3,\n                  },\n                  {\n                    TagName: \"Friendly\",\n                    Number: 5,\n                  },\n                ],\n                Insurance: [\n                  \"Asia Assistance Network\",\n                  \"AIA\",\n                  \"AIA - Employee Benefit\",\n                  \"AIA Datalink\",\n                ],\n                TopSpecialty: [\n                  {\n                    SpecialtyName: \"Gastroenterology\",\n                    Likes: 10,\n                  },\n                  {\n                    SpecialtyName: \"TestA\",\n                    Likes: 5,\n                  },\n                  {\n                    SpecialtyName: \"TestB\",\n                    Likes: 6,\n                  },\n                  {\n                    SpecialtyName: \"TestC\",\n                    Likes: 1,\n                  },\n                ],\n                Doctors: {\n                  AlexLeow1 : {\n                    DocName: \"Alex Leow1\",\n                    Specialty: \"Gastroenterology\",\n                    Hospital: \"Pantai Hospital Kuala Lumpur\",\n                    YearsofPractice: 7,\n                    Address: \"No. A103a - Endoscopy Centre, 1st Floor, Block A, 8, Jalan Bukit Pantai 59100 Kuala Lumpur\",\n                    Phone: \" +603-2296 0763 Ext. 1111\",\n                    Tags: [\n                      {\n                        TagName: \"Bedside Manner\",\n                        Number: 1,\n                      },\n                      {\n                        TagName: \"Enthusiastic\",\n                        Number: 10,\n                      },\n                      {\n                        TagName: \"Friendly\",\n                        Number: 5,\n                      },\n                    ],\n                    Appointment: {\n                      Onsite: {\n                        Content: \"Onsite\",\n                        Status: \"Active\",\n                      },\n                      PhoneCall: {\n                        Content: \"206-123-4567\",\n                        Status: \"\",\n                      },\n                      Online: {\n                        Content: \"https://www.pantai.com.my/kuala-lumpur\",\n                        Status: \"Active\",\n                      },\n                      Email: {\n                        Content: \"chenh57@uw.edu\",\n                        Status: \"Active\",\n                      },\n                    },\n                    Qualification:\n                      \"MMed (Mal), MB. BCh. BAO. (Hons) LRCPI & LRCSI (Ire), B. Biomed Sci. (Hons) (UM)\",\n                    Language: [\n                      \"English\",\n                      \"Mandarin\",\n                      \"Malay\",\n                      \"Hokkien\",\n                      \"Cantonese\",\n                    ],\n                    Type: \"Private\",\n                    Procedures: [\n                      \"Colonoscopy\",\n                      \"Gastroscopy\",\n                      \"Endoscopic Retrograde Cholangiopancreatography (ERCP)\",\n                      \"Fibroscan\",\n                      \"Liver Biopsy\",\n                      \"Endoscopic Ultrasound (EUS)\",\n                      \"Small Bowel Enteroscopy\",\n                      \"Capsule Endoscopy\",\n                    ],\n                    Conditions: [\n                      \"Helicobacter Pylori Infection\",\n                      \"Dyspepsia\",\n                      \"Gastro Esophageal Reflux Disease\",\n                      \"Fever\",\n                    ],\n                    NumberOfLikes: 12315\n                  },\n                  AlexLeow2 : {\n                    DocName: \"Alex Leow2\",\n                    Specialty: \"Gastroenterology\",\n                    Hospital: \"Pantai Hospital Kuala Lumpur\",\n                    YearsofPractice: 7,\n                    Address:\n                      \"No. A103a - Endoscopy Centre, 1st Floor, Block A, 8, Jalan Bukit Pantai 59100 Kuala Lumpur\",\n                    Phone: \" +603-2296 0763 Ext. 1111\",\n                    Tags: [\n                      {\n                        TagName: \"Bedside Manner\",\n                        Number: 1,\n                      },\n                      {\n                        TagName: \"Enthusiastic\",\n                        Number: 10,\n                      },\n                      {\n                        TagName: \"Friendly\",\n                        Number: 5,\n                      },\n                    ],\n                    Appointment: {\n                      Onsite: {\n                        Content: \"Onsite\",\n                        Status: \"Active\",\n                      },\n                      PhoneCall: {\n                        Content: \"206-123-4567\",\n                        Status: \"\",\n                      },\n                      Online: {\n                        Content: \"https://www.pantai.com.my/kuala-lumpur\",\n                        Status: \"Active\",\n                      },\n                      Email: {\n                        Content: \"chenh57@uw.edu\",\n                        Status: \"Active\",\n                      },\n                    },\n                    Qualification:\n                      \"MMed (Mal), MB. BCh. BAO. (Hons) LRCPI & LRCSI (Ire), B. Biomed Sci. (Hons) (UM)\",\n                    Language: [\n                      \"English\",\n                      \"Mandarin\",\n                      \"Malay\",\n                      \"Hokkien\",\n                      \"Cantonese\",\n                    ],\n                    Type: \"Private\",\n                    Procedures: [\n                      \"Colonoscopy\",\n                      \"Gastroscopy\",\n                      \"Endoscopic Retrograde Cholangiopancreatography (ERCP)\",\n                      \"Fibroscan\",\n                      \"Liver Biopsy\",\n                      \"Endoscopic Ultrasound (EUS)\",\n                      \"Small Bowel Enteroscopy\",\n                      \"Capsule Endoscopy\",\n                    ],\n                    Conditions: [\n                      \"Helicobacter Pylori Infection\",\n                      \"Dyspepsia\",\n                      \"Gastro Esophageal Reflux Disease\",\n                      \"Fever\",\n                    ],\n                    NumberOfLikes: 12315\n                  }\n                }\n              }\n            }\n          }\n        };\n      let userKeyWords = keywords.replace(\" \", \"\").toLowerCase();\n      let newDocData = [];\n      let newHosData = [];\n      \n      getNewDocAndHospital(rootData, userKeyWords)\n      .then((res)=>{\n        newDocData = res.newDocData;\n        newHosData = res.newHosData;\n      }).then(()=>{\n        sethospitalInfo(newHosData);\n        setDocInfo(newDocData);\n        sethospitalInfoCopy(newHosData);\n        setDocInfoCopy(newDocData);\n        if (pageProps.history != null) {\n          pageProps.history.push(\"/results\");\n        }\n      })\n      .catch((error)=>{\n        console.error(error);\n      })      \n    }\n\n    return function resetSearchStatus() {\n      setSearchBegin(false);\n    };\n  };\n\n\n  let getNewDocAndHospital = async (rootData, userKeyWords) => {\n    let newDocData = [];\n    let newHosData = [];\n    if(searchMethod == 'Specialty'){\n      for (let specialty in rootData){\n        if(specialty.replace(\" \", \"\").toLowerCase() == userKeyWords){\n          if (location == ''){\n            for (let hospital in rootData[specialty]['Hospital']){\n              let hospitalInfo = rootData[specialty]['Hospital'][hospital];\n              newHosData.push(hospitalInfo);\n              for (let doctor in hospitalInfo['Doctors'] ){\n                newDocData.push(hospitalInfo['Doctors'][doctor]);\n              }\n            }\n          } else {\n            for (let hospital in rootData[specialty]['Hospital']){\n              let hospitalInfo = rootData[specialty]['Hospital'][hospital];\n              let potentialLocation = hospitalInfo.Address;\n              let distanceInfo = await axios.get(proxyurl+'https://maps.googleapis.com/maps/api/distancematrix/json', {\n                params:{\n                  origins:location,\n                  destinations: potentialLocation,\n                  key:'AIzaSyDHEaLdiFVUAJGJUW9fqq_VhOhBL4FzebQ'\n               }\n              })\n              let duration = await distanceInfo.data.rows[0].elements[0].duration.value / 3600;\n              if (duration <1.5){\n                newHosData.push(hospitalInfo);\n                for (let doctor in hospitalInfo['Doctors']){\n                  newDocData.push(hospitalInfo['Doctors'][doctor]);\n                }\n              }\n            }\n          }\n        }\n      }\n    } else if (searchMethod == \"Doctor\"){\n      for (let specialty in rootData){\n        for (let hos in rootData[specialty]['Hospital']){\n          let potentialHos = rootData[specialty]['Hospital'][hos];\n          if (location == ''){\n            let docFound = 0;\n            for (let doctor in potentialHos['Doctors']){\n              let targetDoctor = potentialHos['Doctors'][doctor];\n              if (targetDoctor['DocName'].replace(\" \", \"\").toLowerCase().includes(userKeyWords.replace(\" \", \"\").toLowerCase())){\n                newDocData.push(targetDoctor);\n                docFound ++;\n              }\n              if (docFound == 1){\n                newHosData.push(potentialHos);\n              }\n            }\n          } else {\n            let potentialLocation = potentialHos.Address;\n            let distanceInfo = await axios.get(proxyurl+'https://maps.googleapis.com/maps/api/distancematrix/json', {\n              params:{\n                origins:location,\n                destinations: potentialLocation,\n                key:'AIzaSyDHEaLdiFVUAJGJUW9fqq_VhOhBL4FzebQ'\n              }\n            });\n            let duration = await distanceInfo.data.rows[0].elements[0].duration.value / 3600;\n            if (duration <1.5){\n              let docFound = 0;\n              for (let doctor in potentialHos['Doctors']){\n                let targetDoctor = potentialHos['Doctors'][doctor];\n                if (targetDoctor['DocName'].replace(\" \", \"\").toLowerCase().includes(userKeyWords.replace(\" \", \"\").toLowerCase())){\n                  newDocData.push(targetDoctor);\n                  docFound ++;\n                }\n                if (docFound == 1){\n                  newHosData.push(potentialHos);\n                }\n              }\n            }\n          }\n        }\n      }\n    } else if (searchMethod == \"Hospital\"){\n      for (let specialty in rootData){\n        for (let hos in rootData[specialty]['Hospital']){\n          let potentialHos = rootData[specialty]['Hospital'][hos];\n          let locationMatch = true;\n          let hosNameMacth = potentialHos['HospitalName'].replace(\" \", \"\").toLowerCase() == userKeyWords;\n          if (hosNameMacth){\n            if (location != ''){\n              let potentialLocation = potentialHos.Address;\n              let distanceInfo = await axios.get(proxyurl+'https://maps.googleapis.com/maps/api/distancematrix/json', {\n                params:{\n                  origins:location,\n                  destinations: potentialLocation,\n                  key:'AIzaSyDHEaLdiFVUAJGJUW9fqq_VhOhBL4FzebQ'\n                }\n              });\n              let duration = await distanceInfo.data.rows[0].elements[0].duration.value / 3600;\n              if (duration > 1.5){\n                locationMatch = false;\n              }\n            }\n            if(locationMatch){\n              newHosData.push(potentialHos);\n              for (let doctor in potentialHos['Doctors']){\n                newDocData.push(potentialHos['Doctors'][doctor]);\n              }\n            }\n          }\n        }\n\n      }\n    } else {\n      for (let specialty in rootData){\n        let conditionList = rootData[specialty]['Condition'];\n        conditionList = conditionList.map(function (item) {\n                  return item.toLowerCase();\n        });\n        let locationMatch = true;\n        let conditionMatch = conditionList.includes(userKeyWords);\n        console.log(conditionMatch);\n        if (conditionMatch){\n          for (let hos in rootData[specialty]['Hospital']){\n            let potentialHos = rootData[specialty]['Hospital'][hos];\n            let potentialLocation = potentialHos.Address;\n            console.log(potentialLocation);\n              if (location != ''){\n              let distanceInfo = await axios.get(proxyurl+'https://maps.googleapis.com/maps/api/distancematrix/json', {\n                params:{\n                  origins:location,\n                  destinations: potentialLocation,\n                  key:'AIzaSyDHEaLdiFVUAJGJUW9fqq_VhOhBL4FzebQ'\n                }\n              });\n              let duration = await distanceInfo.data.rows[0].elements[0].duration.value / 3600;\n              if (duration > 1.5){\n                locationMatch = false;\n              }\n            }\n            if (locationMatch){\n              newHosData.push(potentialHos);\n              for (let doctor in potentialHos['Doctors']){\n                let doctorCondition = potentialHos['Doctors'][doctor]['Conditions'];\n                doctorCondition = doctorCondition.map(function (item) {\n                  return item.toLowerCase();\n                  });\n                  if (doctorCondition.includes(userKeyWords)){\n                  newDocData.push(potentialHos['Doctors'][doctor]);\n                  }\n              }\n            }\n          }\n        }\n      }\n    }\n    console.log(newDocData);\n    console.log(newHosData);\n    return {\n      newDocData : newDocData,\n      newHosData : newHosData\n    }\n  };\n\n\n  const renderHome = (renderProps) => {\n    return (\n      <Home\n        {...renderProps}\n        setDocInfo={setDocInfo}\n        sethospitalInfo={sethospitalInfo}\n        doMainSearch={doMainSearch}\n        getLocationValue={getLocationValue}\n        getKeyWords={getKeyWords}\n        startSearch={startSearch}\n        getSearchMethod={getSearchMethod}\n        searchBegin={searchBegin}\n        setSearchMethod={setSearchMethod}\n        setKeywords={setKeywords}\n        conditionListForInput={conditionListForInput}\n      />\n    );\n  };\n  const renderResults = (renderProps) => {\n    return (\n      <Results\n        {...renderProps}\n        setDocInfo={setDocInfo}\n        sethospitalInfo={sethospitalInfo}\n        docInfo={docInfo}\n        hospitalInfo={hospitalInfo}\n        doMainSearch={doMainSearch}\n        getLocationValue={getLocationValue}\n        getKeyWords={getKeyWords}\n        startSearch={startSearch}\n        searchBegin={searchBegin}\n        setSearchMethod={setSearchMethod}\n        setKeywords={setKeywords}\n        getSearchMethod={getSearchMethod}\n        filterHosType={filterHosType}\n        filterLanguageList={filterLanguageList}\n        filterYear={filterYear}\n        updateTargetDoc={updateTargetDoc}\n        updateTargetHos={updateTargetHos}\n        conditionListForInput={conditionListForInput}\n      />\n    );\n  };\n\n  const renderDocProfile = (renderProps) => {\n    return (\n      <Docprofile\n        {...renderProps}\n        setDocInfo={setDocInfo}\n        sethospitalInfo={sethospitalInfo}\n        docInfo={docInfo}\n        hospitalInfo={hospitalInfo}\n        doMainSearch={doMainSearch}\n        getLocationValue={getLocationValue}\n        getKeyWords={getKeyWords}\n        startSearch={startSearch}\n        searchBegin={searchBegin}\n        setSearchMethod={setSearchMethod}\n        setKeywords={setKeywords}\n        getSearchMethod={getSearchMethod}\n        targetDoc={targetDoc}\n        conditionListForInput={conditionListForInput}\n      />\n    );\n  };\n\n  const renderHosProfile = (renderProps) => {\n    return (\n      <Hospprofile\n        {...renderProps}\n        setDocInfo={setDocInfo}\n        sethospitalInfo={sethospitalInfo}\n        docInfo={docInfo}\n        hospitalInfo={hospitalInfo}\n        doMainSearch={doMainSearch}\n        getLocationValue={getLocationValue}\n        getKeyWords={getKeyWords}\n        startSearch={startSearch}\n        searchBegin={searchBegin}\n        setSearchMethod={setSearchMethod}\n        setKeywords={setKeywords}\n        getSearchMethod={getSearchMethod}\n        updateTargetDoc={updateTargetDoc}\n        targetHos={targetHos}\n      />\n    );\n  };\n\n\n\n\n  // michelle改的/加的\n  const renderDocAccount = (renderProps) => {\n    return <Docaccount index={0} />;\n  };\n\n  const renderDocAccountEditProfile = (renderProps) => {\n    return <Docaccount index={1} />;\n  };\n\n  const renderSaved = (renderProps) => {\n    return <Docaccount index={2} />;\n  };\n\n  const renderLikeHistory = (renderProps) => {\n    return <Docaccount index={3} />;\n  };\n\n  const renderDocAccountVerification = (renderProps) => {\n    return <Docaccount index={4} />;\n  };\n\n  const renderAccountSettings = (renderProps) => {\n    return <Docaccount index={5} />;\n  };\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Provider store={store}>\n        <Router>\n          <Switch>\n            <div className=\"container\">\n              <Route exact path=\"/\" render={renderHome}></Route>\n              <AuthRoute exact path=\"/login\" component={login} />\n              <AuthRoute exact path=\"/signup\" component={signup} />\n              <Route exact path=\"/covid19\" component={covid}></Route>\n              <Route exact path=\"/results\" render={renderResults}></Route>\n              <Route exact path=\"/docprofile\" render={renderDocProfile}></Route>\n              <Route\n                exact\n                path=\"/hospprofile\"\n                render={renderHosProfile}\n              ></Route>\n\n              {/*新加的 5/1/2020 */}\n              <Route\n                exact\n                path=\"/hospspecialtyprofile\"\n                component={Hospspecialtyprofile}\n              ></Route>\n\n              {/* michelle改的/加的 */}\n              <Route\n                exact\n                path=\"/docaccount\"\n                render={renderDocAccount}\n                index={0}\n              ></Route>\n              <Route\n                exact\n                path=\"/profile\"\n                render={renderDocAccountEditProfile}\n                index={1}\n              ></Route>\n              <Route exact path=\"/saved\" render={renderSaved} index={2}></Route>\n              <Route\n                exact\n                path=\"/likehistory\"\n                render={renderLikeHistory}\n                index={3}\n              ></Route>\n              <Route\n                exact\n                path=\"/accountverification\"\n                render={renderDocAccountVerification}\n                index={4}\n              ></Route>\n              <Route\n                exact\n                path=\"/accountsettings\"\n                render={renderAccountSettings}\n                index={5}\n              ></Route>\n            </div>\n          </Switch>\n        </Router>\n      </Provider>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}