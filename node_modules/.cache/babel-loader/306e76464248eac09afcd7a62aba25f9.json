{"ast":null,"code":"var _jsxFileName = \"/Users/eshinang/Downloads/may3_eshin/src/Components/docAccount/DocAccountVerification.js\";\nimport React, { useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport CloudUploadOutlinedIcon from \"@material-ui/icons/CloudUploadOutlined\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { updateVerification, getUserData } from \"../../redux/actions/userActions\";\nconst useStyles = makeStyles(theme => ({\n  covidBox: {\n    marginTop: 64,\n    [theme.breakpoints.down(\"sm\")]: {\n      marginTop: 20,\n      marginLeft: 20,\n      marginRight: 20\n    }\n  },\n  anchor: {\n    display: \"block\",\n    paddingTop: 100,\n    marginTop: -100\n  },\n  backIcon: {\n    \"&.MuiSvgIcon-root\": {\n      fill: \"#003367\"\n    }\n  }\n})); // doctor account verification\n\nfunction DocAccountVerification(props) {\n  const classes = useStyles(); // const { index } = props\n\n  const [medicalNumber, setMedicalNumber] = React.useState();\n  const [identityCard, setIdentityCard] = React.useState({\n    src: \"\",\n    name: \"\"\n  });\n  const [medicalDegree, setMedicalDegree] = React.useState({\n    src: \"\",\n    name: \"\"\n  });\n\n  const editMedicalNumber = event => {\n    setMedicalNumber(event.target.value);\n  };\n\n  const uploadIdentityCard = event => {\n    let reader = new FileReader();\n    let uploaded = event.target.files[0];\n\n    if (uploaded) {\n      reader.readAsDataURL(uploaded);\n    }\n\n    reader.onload = () => {\n      setIdentityCard({\n        src: reader.result,\n        name: uploaded.name\n      });\n    };\n  };\n\n  const uploadMedicalDegree = event => {\n    let reader = new FileReader();\n    let uploaded = event.target.files[0];\n\n    if (uploaded) {\n      reader.readAsDataURL(uploaded);\n    }\n\n    reader.onload = () => {\n      setMedicalDegree({\n        src: reader.result,\n        name: uploaded.name\n      });\n    };\n  }; // initiate push to firebase when submit button is clicked\n\n\n  const submitVerification = () => {\n    const newVerification = {\n      medicalNumber: medicalNumber,\n      identityCardSrc: identityCard[\"src\"],\n      medicalDegreeSrc: medicalDegree[\"src\"]\n    };\n    props.updateVerification(newVerification);\n  };\n\n  const storedMedicalNum = props.storedVerificationInfo && props.storedVerificationInfo.medicalRegistrationNumber;\n\n  if (!storedMedicalNum) {\n    // loading spinner if prop data is not yet available\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      color: \"secondary\",\n      style: {\n        marginLeft: \"45%\",\n        marginTop: \"10%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(\"a\", {\n      id: \"accountverification\",\n      className: classes.anchor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 10,\n      md: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      flexGrow: 1,\n      flexDirection: \"row\",\n      mt: 4,\n      mb: 1,\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Hidden, {\n      mdUp: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"docaccount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(ArrowBackIosIcon, {\n      className: classes.backIcon,\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, \"Account Verification\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CancelIcon, {\n      style: {\n        color: \"red\",\n        marginRight: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, \"Account not verified\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      fullWidth: true,\n      required: true,\n      label: \"Medical Registration Number\",\n      defaultValue: storedMedicalNum,\n      variant: \"outlined\",\n      onChange: editMedicalNumber,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      mt: 5,\n      mb: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      flexGrow: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      color: \"textSecondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, \"Malaysian Identity Card\")), /*#__PURE__*/React.createElement(Box, {\n      flexGrow: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      accept: \"image/*\",\n      style: {\n        display: \"none\"\n      },\n      id: \"contained-button-identity\",\n      multiple: true,\n      type: \"file\",\n      onChange: uploadIdentityCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"contained-button-identity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      startIcon: /*#__PURE__*/React.createElement(CloudUploadOutlinedIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 32\n        }\n      }),\n      variant: \"outlined\",\n      component: \"span\",\n      color: \"primary\",\n      style: {\n        textTransform: \"none\",\n        float: \"right\"\n      },\n      size: \"medium\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    }, \"Upload\")))), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, identityCard.name), /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      mt: 5,\n      mb: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      flexGrow: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      color: \"textSecondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }, \"Certified copy of Medical Degree\")), /*#__PURE__*/React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      accept: \"image/*\",\n      style: {\n        display: \"none\"\n      },\n      id: \"contained-button-medical\",\n      multiple: true,\n      type: \"file\",\n      onChange: uploadMedicalDegree,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"contained-button-medical\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      startIcon: /*#__PURE__*/React.createElement(CloudUploadOutlinedIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 32\n        }\n      }),\n      variant: \"outlined\",\n      component: \"span\",\n      color: \"primary\",\n      style: {\n        textTransform: \"none\",\n        float: \"right\"\n      },\n      size: \"medium\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 19\n      }\n    }, \"Upload\")))), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, medicalDegree.name), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      style: {\n        textTransform: \"none\",\n        float: \"right\"\n      },\n      size: \"large\",\n      onClick: submitVerification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 1,\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }\n    })));\n  }\n}\n\nDocAccountVerification.propTypes = {\n  user: PropTypes.object.isRequired,\n  updateVerification: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  storedVerificationInfo: state.user.credentials.verification\n});\n\nconst mapActionsToProps = {\n  updateVerification\n};\nexport default connect(mapStateToProps, mapActionsToProps)(DocAccountVerification);","map":{"version":3,"sources":["/Users/eshinang/Downloads/may3_eshin/src/Components/docAccount/DocAccountVerification.js"],"names":["React","useEffect","makeStyles","Box","Typography","Button","Grid","TextField","Hidden","IconButton","ArrowBackIosIcon","CancelIcon","CloudUploadOutlinedIcon","CircularProgress","Link","connect","PropTypes","updateVerification","getUserData","useStyles","theme","covidBox","marginTop","breakpoints","down","marginLeft","marginRight","anchor","display","paddingTop","backIcon","fill","DocAccountVerification","props","classes","medicalNumber","setMedicalNumber","useState","identityCard","setIdentityCard","src","name","medicalDegree","setMedicalDegree","editMedicalNumber","event","target","value","uploadIdentityCard","reader","FileReader","uploaded","files","readAsDataURL","onload","result","uploadMedicalDegree","submitVerification","newVerification","identityCardSrc","medicalDegreeSrc","storedMedicalNum","storedVerificationInfo","medicalRegistrationNumber","color","textTransform","float","propTypes","user","object","isRequired","func","mapStateToProps","state","credentials","verification","mapActionsToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport CloudUploadOutlinedIcon from \"@material-ui/icons/CloudUploadOutlined\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nimport {\n  updateVerification,\n  getUserData,\n} from \"../../redux/actions/userActions\";\n\nconst useStyles = makeStyles((theme) => ({\n  covidBox: {\n    marginTop: 64,\n    [theme.breakpoints.down(\"sm\")]: {\n      marginTop: 20,\n      marginLeft: 20,\n      marginRight: 20,\n    },\n  },\n\n  anchor: {\n    display: \"block\",\n    paddingTop: 100,\n    marginTop: -100,\n  },\n  backIcon: {\n    \"&.MuiSvgIcon-root\": {\n      fill: \"#003367\",\n    },\n  },\n}));\n\n// doctor account verification\nfunction DocAccountVerification(props) {\n  const classes = useStyles();\n  // const { index } = props\n\n  const [medicalNumber, setMedicalNumber] = React.useState();\n  const [identityCard, setIdentityCard] = React.useState({\n    src: \"\",\n    name: \"\",\n  });\n  const [medicalDegree, setMedicalDegree] = React.useState({\n    src: \"\",\n    name: \"\",\n  });\n\n  const editMedicalNumber = (event) => {\n    setMedicalNumber(event.target.value);\n  };\n\n  const uploadIdentityCard = (event) => {\n    let reader = new FileReader();\n    let uploaded = event.target.files[0];\n    if (uploaded) {\n      reader.readAsDataURL(uploaded);\n    }\n    reader.onload = () => {\n      setIdentityCard({\n        src: reader.result,\n        name: uploaded.name,\n      });\n    };\n  };\n\n  const uploadMedicalDegree = (event) => {\n    let reader = new FileReader();\n    let uploaded = event.target.files[0];\n    if (uploaded) {\n      reader.readAsDataURL(uploaded);\n    }\n    reader.onload = () => {\n      setMedicalDegree({\n        src: reader.result,\n        name: uploaded.name,\n      });\n    };\n  };\n\n  // initiate push to firebase when submit button is clicked\n  const submitVerification = () => {\n    const newVerification = {\n      medicalNumber: medicalNumber,\n      identityCardSrc: identityCard[\"src\"],\n      medicalDegreeSrc: medicalDegree[\"src\"],\n    };\n    props.updateVerification(newVerification);\n  };\n\n  const storedMedicalNum =\n    props.storedVerificationInfo &&\n    props.storedVerificationInfo.medicalRegistrationNumber;\n\n  if (!storedMedicalNum) {\n    // loading spinner if prop data is not yet available\n    return (\n      <div>\n        <CircularProgress\n          color=\"secondary\"\n          style={{ marginLeft: \"45%\", marginTop: \"10%\" }}\n        />\n      </div>\n    );\n  } else {\n    return (\n      <a id=\"accountverification\" className={classes.anchor}>\n        <Grid container spacing={0}>\n          <Grid item xs={1}></Grid>\n          <Grid item xs={10} md={8}>\n            <Box\n              flexGrow={1}\n              flexDirection=\"row\"\n              mt={4}\n              mb={1}\n              alignItems=\"center\"\n            >\n              <Typography variant=\"h5\" color=\"primary\">\n                {/* Back button 手机屏幕才会出玄 */}\n                <Hidden mdUp>\n                  {/* <IconButton> */}\n                  <Link to=\"docaccount\">\n                    <ArrowBackIosIcon\n                      className={classes.backIcon}\n                      fontSize=\"small\"\n                    />\n                  </Link>\n                  {/* </IconButton> */}\n                </Hidden>\n                <strong>Account Verification</strong>\n              </Typography>\n            </Box>\n\n            <br></br>\n            <Box display=\"flex\" flexDirection=\"row\">\n              {/* 现在是ACCOUNT NOT VERIFIED, 需要换icon 如果account pending/verified */}\n              <CancelIcon style={{ color: \"red\", marginRight: 10 }} />\n              <Typography variant=\"body1\">\n                Account not verified<br></br>\n              </Typography>\n            </Box>\n            <br></br>\n            <br></br>\n            {/* Meidcal reg number */}\n            <TextField\n              fullWidth\n              required\n              label=\"Medical Registration Number\"\n              defaultValue={storedMedicalNum}\n              variant=\"outlined\"\n              onChange={editMedicalNumber}\n            />\n            {/* Upload malaysian identity card */}\n            <Box display=\"flex\" mt={5} mb={3}>\n              <Box flexGrow={1}>\n                <Typography variant=\"body1\" color=\"textSecondary\">\n                  Malaysian Identity Card\n                </Typography>\n              </Box>\n              <Box flexGrow={1}>\n                <input\n                  accept=\"image/*\"\n                  style={{ display: \"none\" }}\n                  id=\"contained-button-identity\"\n                  multiple\n                  type=\"file\"\n                  onChange={uploadIdentityCard}\n                />\n                <label htmlFor=\"contained-button-identity\">\n                  <Button\n                    startIcon={<CloudUploadOutlinedIcon />}\n                    variant=\"outlined\"\n                    component=\"span\"\n                    color=\"primary\"\n                    style={{ textTransform: \"none\", float: \"right\" }}\n                    size=\"medium\"\n                  >\n                    Upload\n                  </Button>\n                </label>\n              </Box>\n            </Box>\n            <Typography variant=\"body2\">{identityCard.name}</Typography>\n            {/* Upload medical degree */}\n            <Box display=\"flex\" mt={5} mb={5}>\n              <Box flexGrow={1}>\n                <Typography variant=\"body1\" color=\"textSecondary\">\n                  Certified copy of Medical Degree\n                </Typography>\n              </Box>\n              <Box>\n                <input\n                  accept=\"image/*\"\n                  style={{ display: \"none\" }}\n                  id=\"contained-button-medical\"\n                  multiple\n                  type=\"file\"\n                  onChange={uploadMedicalDegree}\n                />\n                <label htmlFor=\"contained-button-medical\">\n                  <Button\n                    startIcon={<CloudUploadOutlinedIcon />}\n                    variant=\"outlined\"\n                    component=\"span\"\n                    color=\"primary\"\n                    style={{ textTransform: \"none\", float: \"right\" }}\n                    size=\"medium\"\n                  >\n                    Upload\n                  </Button>\n                </label>\n              </Box>\n            </Box>\n            <Typography variant=\"body2\">{medicalDegree.name}</Typography>\n\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              style={{ textTransform: \"none\", float: \"right\" }}\n              size=\"large\"\n              onClick={submitVerification}\n            >\n              Submit\n            </Button>\n            <br></br>\n            <br></br>\n          </Grid>\n          <Grid item xs={1} md={3}></Grid>\n        </Grid>\n      </a>\n    );\n  }\n}\n\nDocAccountVerification.propTypes = {\n  user: PropTypes.object.isRequired,\n  updateVerification: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n  storedVerificationInfo: state.user.credentials.verification,\n});\n\nconst mapActionsToProps = {\n  updateVerification,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(DocAccountVerification);\n"]},"metadata":{},"sourceType":"module"}