{"ast":null,"code":"var _jsxFileName = \"/Users/Michelle/Desktop/Capstone/CapstoneEclipseAB11/src/Components/profile/HospInfo.js\";\nimport React, { Fragment, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Hidden from \"@material-ui/core/Hidden\"; //icons\n\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport LocationOnOutlinedIcon from \"@material-ui/icons/LocationOnOutlined\";\nimport PhoneOutlinedIcon from \"@material-ui/icons/PhoneOutlined\";\nimport ErrorOutlineOutlinedIcon from \"@material-ui/icons/ErrorOutlineOutlined\";\nimport BookmarkIcon from '@material-ui/icons/Bookmark';\nimport BookmarkBorderOutlinedIcon from \"@material-ui/icons/BookmarkBorderOutlined\";\nimport ShareOutlinedIcon from \"@material-ui/icons/ShareOutlined\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorderOutlinedIcon from \"@material-ui/icons/FavoriteBorderOutlined\";\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Link } from \"react-router-dom\"; //components\n\nimport CovidAlert from \"../Alert\";\nimport HospTags from \"./HospTags\";\nimport PropTypes from \"prop-types\";\nimport { changeHospLikeStatus, changeHospSaveStatus, sendReportedHospitals } from \"../../redux/actions/userActions\";\nimport { updateHospitalLikes, reportHospital } from \"../../redux/actions/dataActions\"; // ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～\n// ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～\n// \"hospital tags\" used in this js is actually referred to the tags attached to a specialty in this hospital\n// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nconst useStyles = makeStyles(theme => ({\n  covidBox: {\n    marginTop: 64,\n    [theme.breakpoints.down(\"sm\")]: {\n      marginTop: 20,\n      marginLeft: 20,\n      marginRight: 20\n    }\n  },\n  //return to hospital button\n  returnBox: {\n    marginLeft: 50,\n    [theme.breakpoints.down(\"sm\")]: {\n      marginLeft: 20\n    }\n  },\n  //hospital image\n  img: {\n    width: \"100%\",\n    height: \"100%\",\n    objectFit: \"contain\"\n  },\n  profileGrid: {\n    [theme.breakpoints.down(\"xs\")]: {\n      marginLeft: 20,\n      marginRight: 20\n    }\n  },\n  line: {\n    [theme.breakpoints.down(\"xs\")]: {\n      border: \"5px solid rgba(0, 0, 0, 0.05)\"\n    }\n  },\n  signUpInButton: {\n    paddingLeft: \"7.5rem\"\n  }\n})); //for hospital image + basic info + likes\n//edit tags section is imported from HospTags.js\n\nfunction HospInfo(props) {\n  const classes = useStyles();\n  const authenticated = props.authenticated;\n\n  const backToRes = () => {\n    console.log('history:');\n    console.log(props.backTo);\n\n    if (props.history != null) {\n      if (props.backTo == \"resultsPage\") {\n        console.log(1);\n        props.history.push(\"/results\");\n      } else if (props.backTo == \"hospprofile\") {\n        console.log(2);\n        props.history.push(\"/results\");\n      } else if (props.backTo == \"likeHistory\") {\n        console.log(3);\n        props.history.push(\"/likehistory\");\n      } else {\n        console.log(4);\n        props.history.push(\"/saved\");\n      }\n    }\n  };\n\n  let returnPageDesc;\n\n  if (props.backTo == \"resultsPage\") {\n    returnPageDesc = \"Result Page\";\n  } else if (props.backTo == \"hospprofile\") {\n    returnPageDesc = \"Result Page\";\n  } else if (props.backTo == \"likeHistory\") {\n    returnPageDesc = \"Liked History Page\";\n  } else {\n    returnPageDesc = \"Saved History Page\";\n  }\n\n  const [renderCount, setRenderCount] = React.useState(0);\n  const [likeSaveInfo, setState] = React.useState({\n    hasLiked: false,\n    likedList: [],\n    numLikes: 0,\n    // save functionality\n    hasSaved: false,\n    savedList: [],\n    // report functionality\n    reportedList: [],\n    numReports: 0,\n    reportReasonsList: [],\n    oneReason: \"\"\n  }); // only get called once in the first render\n\n  useEffect(() => {\n    // if (renderCount == 0) {\n    return displayStoredData(); // }\n  }, []);\n\n  const displayStoredData = () => {\n    // call function to get data from returned props from firebase\n    getStoredData().then(res => {\n      // like\n      let listOfLikes;\n      let liked = false; // if the user has never liked any hospitals\n\n      if (!res.likeHistory) {\n        listOfLikes = [];\n      } else {\n        if (res.likeHistory.hospitals) {\n          listOfLikes = res.likeHistory.hospitals; // if the user has liked this particular hospital before\n\n          const index = res.likeHistory.hospitals.findIndex(hospital => hospital.name.replace(/\\s/g, '').toLowerCase() == props.targetHos.name.replace(/\\s/g, '').toLowerCase());\n\n          if (index != -1) {\n            liked = true;\n          }\n        } else {\n          listOfLikes = [];\n        }\n      } // save\n\n\n      let listOfSaves;\n      let saved = false; // if the user has never saved any hospitals\n\n      if (!res.saved) {\n        listOfSaves = [];\n      } else {\n        if (res.saved.hospitals) {\n          listOfSaves = res.saved.hospitals; // if the user has saved this particular hospital before\n\n          const index = res.saved.hospitals.findIndex(hospital => hospital.name.replace(/\\s/g, '').toLowerCase() == props.targetHos.name.replace(/\\s/g, '').toLowerCase());\n\n          if (index != -1) {\n            saved = true;\n          }\n        } else {\n          listOfSaves = [];\n        }\n      }\n\n      setState({\n        hasLiked: liked,\n        likedList: listOfLikes,\n        numLikes: props.targetHos.likes ? props.targetHos.likes : 0,\n        hasSaved: saved,\n        savedList: listOfSaves,\n        reportedList: res.reportedHospitals ? res.reportedHospitals : [],\n        numReports: props.targetHos.report ? props.targetHos.report.reportCount : 0,\n        reportReasonsList: props.targetHos.report ? props.targetHos.report.reportReasons : [],\n        oneReason: \"\"\n      }); // setRenderCount(1);\n    }).catch(error => {\n      console.error(error);\n    });\n  }; // wait for returned props from firebase to be ready\n\n\n  let getStoredData = async () => {\n    // let [storedSearchInfo, userStoredCredentials] =\n    //   await Promise.all([props.searchInfo, props.storedCredentials]);\n    // return [storedSearchInfo, userStoredCredentials];\n    let storedCredentials = await props.storedCredentials;\n    return storedCredentials;\n  }; // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~LIKE FUNCTIONALITY~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  // when the like button is pressed\n\n\n  const toggleLikeUnlike = () => {\n    // the user has liked this hospital before\n    if (likeSaveInfo.hasLiked) {\n      let likedListCopy = likeSaveInfo.likedList;\n      let index = likedListCopy.findIndex(hospital => hospital.name == props.targetHos.name); // remove this hospital from the user like list\n\n      likedListCopy.splice(index, 1);\n      setState(prevState => {\n        prevState.numLikes = prevState.numLikes - 1;\n        prevState.hasLiked = false;\n        prevState.likedList = likedListCopy;\n        return { ...prevState\n        };\n      });\n    } else {\n      const newHospInfo = {\n        name: props.targetHos.name,\n        address: props.targetHos.address,\n        likes: likeSaveInfo.numLikes,\n        phone: props.targetHos.phone,\n        relatedSpecialty: props.targetHos.relatedSpecialty,\n        type: props.targetHos.type\n      };\n      likeSaveInfo.likedList.push(newHospInfo);\n      setState( // add to the list if the list contains other doctors, otherwise use this doctor to start a list\n      prevState => {\n        prevState.numLikes = prevState.numLikes + 1;\n        prevState.hasLiked = true;\n        return { ...prevState\n        };\n      });\n    }\n\n    toggleLike();\n  };\n\n  const toggleLike = () => {\n    waitLikeUpdate().then(res => {\n      props.changeHospLikeStatus(likeSaveInfo.likedList);\n      const updateInfo = {\n        specialty: props.targetHos.relatedSpecialty,\n        hospital: props.targetHos.HospitalName.replace(/\\s/g, ''),\n        likes: res[1]\n      };\n      props.updateHospitalLikes(updateInfo);\n      updateLocalDocList(updateInfo);\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n\n  let waitLikeUpdate = async () => {\n    let [likedList, likes] = await Promise.all([likeSaveInfo.likedList, likeSaveInfo.numLikes]);\n    return [likedList, likes];\n  };\n\n  const updateLocalDocList = updateInfo => {\n    // set location target list location\n    let newHosList = [];\n\n    for (let hos in props.hospitalInfo) {\n      let hosItem = props.hospitalInfo[hos];\n\n      if (hosItem.name == props.targetHos.name) {\n        hosItem.NumberOfLikes = likeSaveInfo.numLikes;\n        hosItem.likes = likeSaveInfo.numLikes;\n      }\n\n      newHosList.push(hosItem);\n    }\n\n    props.sethospitalInfo(newHosList); // set database\n\n    let newDatabase;\n    newDatabase = props.database;\n    let hospitalId = updateInfo['hospital'].replace(/\\s/g, '');\n    newDatabase[updateInfo['specialty']]['hospitals'][hospitalId]['likes'] = likeSaveInfo.numLikes;\n    newDatabase[updateInfo['specialty']]['hospitals'][hospitalId]['NumberOfLikes'] = likeSaveInfo.numLikes;\n    props.setDatabase(newDatabase);\n  }; // if the user has liked this hospital before: filled heart, otherwise outlined heart\n\n\n  const LikeIcon = likeSaveInfo.hasLiked ? FavoriteIcon : FavoriteBorderOutlinedIcon; // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~SAVE FUNCTIONALITY~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  // when the save button is pressed\n\n  const toggleSaveUnsave = () => {\n    // the user has saved this hospital before\n    if (likeSaveInfo.hasSaved) {\n      let savedListCopy = likeSaveInfo.savedList;\n      let index = savedListCopy.findIndex(hospital => hospital.name == props.targetHos.name); // remove this hospital from the user saved list\n\n      savedListCopy.splice(index, 1);\n      setState({ ...likeSaveInfo,\n        savedList: savedListCopy,\n        hasSaved: false\n      });\n    } else {\n      // the newly saved hospital's information to be added to the user's saved hospital list\n      const newHospInfo = {\n        name: props.targetHos.name.replace(/\\s/g, ''),\n        address: props.targetHos.address,\n        likes: likeSaveInfo.numLikes,\n        phone: props.targetHos.phone,\n        relatedSpecialty: props.targetHos.relatedSpecialty,\n        type: props.targetHos.type\n      };\n      likeSaveInfo.savedList.push(newHospInfo);\n      setState( // add to the list if the list contains other doctors, otherwise use this doctor to start a list\n      prevState => {\n        prevState.hasSaved = true;\n        return { ...prevState\n        };\n      });\n    }\n\n    toggleSave();\n  }; // triggered if the save button is pressed (which sets state)\n  // useEffect(() => {\n  //   if (renderCount == 1) {\n  //     return toggleSave();\n  //   }\n  // }, [likeSaveInfo.hasSaved, likeSaveInfo.savedList]);\n\n\n  const toggleSave = () => {\n    waitSaveUpdate().then(res => {\n      props.changeHospSaveStatus(res);\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n\n  let waitSaveUpdate = async () => {\n    let savedList = await likeSaveInfo.savedList;\n    return savedList;\n  }; // if the user has saved this doctor before: filled bookmark, otherwise outlined bookmark\n\n\n  const SaveIcon = likeSaveInfo.hasSaved ? BookmarkIcon : BookmarkBorderOutlinedIcon; // -------------------------------------------------------------------- //\n  // ----------------------------Report---------------------------------------- //\n  // 新加 5/14\n  //report弹窗：填的表\n\n  const [reportOpen, setReportOpen] = React.useState(false);\n\n  const handleReportOpen = () => {\n    setReportOpen(true);\n  };\n\n  const handleReportClose = () => {\n    setReportOpen(false);\n  };\n\n  const handleReportReason = event => {\n    const oneReason = event.target.value;\n    setState({ ...likeSaveInfo,\n      oneReason: oneReason\n    });\n  };\n\n  if (!props.targetHos) {\n    props.history.push(\"/\");\n    window.location.reload();\n  }\n\n  const reported = likeSaveInfo.reportedList.includes(props.targetHos.name); // send hospital report to database\n\n  const submitReport = () => {\n    const oneReason = likeSaveInfo.oneReason;\n    const reasons = likeSaveInfo.reportReasonsList;\n    reasons.push(oneReason);\n    const reportedList = likeSaveInfo.reportedList;\n\n    if (!reported) {\n      reportedList.push(props.targetHos.name);\n    } // send to specialty doctor account\n\n\n    const oneReport = {\n      reportCount: likeSaveInfo.numReports + 1,\n      reportReasons: reasons,\n      // *******hard code \n      specialty: props.targetHos.relatedSpecialty,\n      hospital: props.targetHos.name\n    };\n    props.reportHospital(oneReport); // send to user account\n\n    const sendToAccount = {\n      reportedHospitals: reportedList\n    };\n    props.sendReportedHospitals(sendToAccount);\n    setReportOpen(false);\n    setState(prevState => ({ ...likeSaveInfo,\n      numReports: prevState.numReports + 1,\n      reportReasonsList: [prevState.reportReasonsList, oneReason],\n      oneReason: \"\",\n      reportedList: [prevState.reportedList, props.targetHos.name]\n    }));\n  }; // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  // ~~~~~~~~~~~sign up or login in if want to save or report~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  // 弹窗去signin/signup如果要report没有login\n\n\n  const [loginOpen, setLoginOpen] = React.useState({\n    open: false,\n    // keep track of what function the user selects (report, like, save, tag)\n    userOption: \"\"\n  });\n\n  const handleLoginOpen = option => {\n    setLoginOpen({\n      open: true,\n      userOption: option\n    });\n  };\n\n  const handleLoginClose = () => {\n    setLoginOpen({ ...loginOpen,\n      open: false\n    });\n  }; // for login in diagolue: render correponding icon for user option: recommend, like, save\n\n\n  let Icon = FavoriteIcon;\n\n  if (loginOpen.userOption == \"Recommend\") {\n    Icon = FavoriteIcon;\n  } else if (loginOpen.userOption == \"Save\") {\n    Icon = BookmarkBorderOutlinedIcon;\n  } else if (loginOpen.userOption == \"Report\") {\n    Icon = ErrorOutlineOutlinedIcon;\n  } else {\n    Icon = EditOutlinedIcon;\n  } //   const signUpInDialogue = (option) => {\n  //     const optionFirstUpper = option[0].toUpperCase() + option.slice(1);\n  //     return (\n  //       <Dialog\n  //         fullWidth=\"true\"\n  //         maxWidth=\"sm\"\n  //         open={loginOpen}\n  //         onClose={handleLoginClose}\n  //       >\n  //         <Box display=\"flex\" alignItems=\"center\">\n  //           <Box flexGrow={1}>\n  //             <DialogTitle>{optionFirstUpper} a Doctor</DialogTitle>\n  //           </Box>\n  //           <Box>\n  //             <DialogActions>\n  //               <IconButton\n  //                 size=\"small\"\n  //                 onClick={handleLoginClose}\n  //                 color=\"primary\"\n  //               >\n  //                 <CloseIcon />\n  //               </IconButton>\n  //             </DialogActions>\n  //           </Box>\n  //         </Box>\n  //         <DialogContent>\n  //           <Box\n  //             display=\"flex\"\n  //             flexDirection=\"column\"\n  //             justifyContent=\"center\"\n  //             alignItems=\"center\"\n  //           >\n  //             <ErrorOutlineOutlinedIcon />\n  //             <br></br>\n  //             <Typography variant=\"body1\" align=\"center\">\n  //               You need to sign in to {option} this doctor\n  //                         </Typography>\n  //           </Box>\n  //           <Box display=\"flex\" mt={2} mb={2}>\n  //             <Button\n  //               variant=\"contained\"\n  //               color=\"primary\"\n  //               style={{ textTransform: \"none\" }}\n  //               fullWidth\n  //               component={Link}\n  //               to=\"/login\"\n  //             >\n  //               Log in\n  //                         </Button>\n  //           </Box>\n  //           <Box display=\"flex\" mb={2}>\n  //             <Button\n  //               variant=\"outlined\"\n  //               color=\"primary\"\n  //               style={{ textTransform: \"none\" }}\n  //               fullWidth\n  //               component={Link}\n  //               to=\"/signup\"\n  //             >\n  //               Sign up\n  //                         </Button>\n  //           </Box>\n  //         </DialogContent>\n  //       </Dialog>\n  //     )\n  //   }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.covidBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CovidAlert, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    mt: 3,\n    mb: 3,\n    className: classes.returnBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      fontSize: 16,\n      textTransform: \"none\"\n    },\n    color: \"primary\",\n    startIcon: /*#__PURE__*/React.createElement(ArrowBackIosIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 22\n      }\n    }),\n    onClick: backToRes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 589,\n      columnNumber: 9\n    }\n  }, \"Return to \", returnPageDesc)), /*#__PURE__*/React.createElement(Hidden, {\n    smUp: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    display: \"flex\",\n    justifyContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 603,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 150,\n      height: 180\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: classes.img,\n    src: props.targetHos[\"imgSrc\"],\n    alt: \"hospimg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 611,\n      columnNumber: 13\n    }\n  }, authenticated ? /*#__PURE__*/React.createElement(IconButton, {\n    onClick: toggleLikeUnlike,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LikeIcon, {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 19\n    }\n  })) :\n  /*#__PURE__*/\n  // michelle 5/16: 这里的fragment和里面的东西都替换掉原来的\n  React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: () => handleLoginOpen(\"Recommend\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FavoriteBorderOutlinedIcon, {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 23\n    }\n  }))), \"                )}\", /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 634,\n      columnNumber: 15\n    }\n  }, likeSaveInfo.numLikes.toLocaleString(navigator.language, {\n    minimumFractionDigits: 0\n  })))))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 5,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 643,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Hidden, {\n    xsDown: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 200,\n      height: 250\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: classes.img,\n    src: props.targetHos[\"imgSrc\"],\n    alt: \"hospimg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Hidden, {\n    smUp: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    color: \"primary\",\n    style: {\n      margin: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 15\n    }\n  }, props.targetHos[\"HospitalName\"])), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    mt: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 13\n    }\n  }, authenticated ? /*#__PURE__*/React.createElement(Button, {\n    disabled: reported,\n    startIcon: /*#__PURE__*/React.createElement(ErrorOutlineOutlinedIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 30\n      }\n    }),\n    style: {\n      textTransform: \"none\"\n    },\n    color: \"primary\",\n    onClick: handleReportOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 669,\n      columnNumber: 17\n    }\n  }, \"Report\") :\n  /*#__PURE__*/\n  // michelle 5/16: 这里的fragment和里面的东西都替换掉原来的 （这里新的东西比原来长很多 麻烦小心对一下位置）\n  React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 680,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    startIcon: /*#__PURE__*/React.createElement(ErrorOutlineOutlinedIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 30\n      }\n    }),\n    style: {\n      textTransform: \"none\"\n    },\n    color: \"primary\",\n    onClick: () => handleLoginOpen(\"Report\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 681,\n      columnNumber: 17\n    }\n  }, \"Report\"), /*#__PURE__*/React.createElement(Dialog, {\n    fullWidth: \"true\",\n    maxWidth: \"sm\",\n    open: loginOpen.open,\n    onClose: handleLoginClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 691,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 697,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    flexGrow: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 698,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 23\n    }\n  }, loginOpen.userOption, \" a Hospital\")), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 701,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 702,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    onClick: handleLoginClose,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 703,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 708,\n      columnNumber: 27\n    }\n  }))))), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 713,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 714,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 23\n    }\n  }, \"You need to sign in to \", loginOpen.userOption.toLowerCase(), \" this hospital \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\")), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    mt: 2,\n    mb: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 726,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.signUpInButton,\n    variant: \"contained\",\n    color: \"primary\",\n    style: {\n      textTransform: \"none\"\n    },\n    fullWidth: true,\n    component: Link,\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 23\n    }\n  }, \"Log in \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\")), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    mb: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 740,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.signUpInButton,\n    variant: \"outlined\",\n    color: \"primary\",\n    style: {\n      textTransform: \"none\"\n    },\n    fullWidth: true,\n    component: Link,\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 23\n    }\n  }, \"Sign up \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"))))), /*#__PURE__*/React.createElement(Dialog, {\n    fullWidth: \"true\",\n    maxWidth: \"sm\",\n    open: reportOpen,\n    onClose: handleReportClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 760,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 766,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    flexGrow: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 767,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 21\n    }\n  }, \"Report\")), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 770,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    onClick: handleReportClose,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 772,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 777,\n      columnNumber: 25\n    }\n  }))))), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 782,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 19\n    }\n  }, \"Please provide a reason for why you are reporting this hospital:\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    multiline: true,\n    required: true,\n    variant: \"outlined\",\n    label: \"Reason\",\n    rows: 5,\n    onChange: handleReportReason,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 788,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 798,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.reportButton,\n    disabled: !likeSaveInfo.oneReason,\n    variant: \"contained\",\n    color: \"primary\",\n    style: {\n      textTransform: \"none\"\n    },\n    onClick: submitReport,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 799,\n      columnNumber: 19\n    }\n  }, \"Submit\"))), authenticated ? /*#__PURE__*/React.createElement(Button, {\n    startIcon: /*#__PURE__*/React.createElement(SaveIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 817,\n        columnNumber: 30\n      }\n    }),\n    style: {\n      textTransform: \"none\"\n    },\n    color: \"primary\",\n    onClick: toggleSaveUnsave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 816,\n      columnNumber: 17\n    }\n  }, \"Save\") :\n  /*#__PURE__*/\n  // michelle 5/16: 这里的fragment和里面的东西都替换掉原来的\n  React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 826,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    startIcon: /*#__PURE__*/React.createElement(SaveIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 828,\n        columnNumber: 34\n      }\n    }),\n    style: {\n      textTransform: \"none\"\n    },\n    color: \"primary\",\n    onClick: () => handleLoginOpen(\"Save\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 827,\n      columnNumber: 21\n    }\n  }, \"Save\"))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 842,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Hidden, {\n    xsDown: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 844,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 845,\n      columnNumber: 13\n    }\n  }, props.targetHos[\"HospitalName\"], /*#__PURE__*/React.createElement(Chip, {\n    style: {\n      marginLeft: 10\n    },\n    color: \"primary\",\n    size: \"small\",\n    label: \"Private\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 848,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Hidden, {\n    smUp: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 858,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    className: classes.line,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 859,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    className: classes.profileGrid,\n    mt: 3,\n    mb: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 863,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"textPrimary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 864,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 865,\n      columnNumber: 15\n    }\n  }, \"Official website: \"), \" \", /*#__PURE__*/React.createElement(Link, {\n    href: props.targetHos[\"website\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 866,\n      columnNumber: 15\n    }\n  }, \"Link\")), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"textPrimary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 869,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 870,\n      columnNumber: 15\n    }\n  }, \"Hours: \"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 871,\n      columnNumber: 15\n    }\n  }, \"Open \", props.targetHos[\"hours\"])), /*#__PURE__*/React.createElement(Hidden, {\n    smUp: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 874,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"textPrimary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 875,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 876,\n      columnNumber: 17\n    }\n  }, \"Hospital Type: \"), \" \", /*#__PURE__*/React.createElement(Chip, {\n    style: {\n      marginLeft: 10\n    },\n    color: \"primary\",\n    size: \"small\",\n    label: props.targetHos[\"HospitalType\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 877,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 886,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    mt: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 888,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(LocationOnOutlinedIcon, {\n    style: {\n      marginRight: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 889,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"textPrimary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 890,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 891,\n      columnNumber: 17\n    }\n  }, props.targetHos[\"Address\"]))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    mt: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 894,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PhoneOutlinedIcon, {\n    style: {\n      marginRight: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 895,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"textPrimary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 896,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 897,\n      columnNumber: 17\n    }\n  }, props.targetHos[\"Phone\"])))), /*#__PURE__*/React.createElement(HospTags, {\n    tagInfo: props.targetHos[\"tags\"],\n    targetHos: props.targetHos,\n    handleLoginOpen: handleLoginOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 902,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 1,\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 905,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Hidden, {\n    xsDown: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 907,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 908,\n      columnNumber: 13\n    }\n  }, authenticated ? /*#__PURE__*/React.createElement(IconButton, {\n    onClick: toggleLikeUnlike,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 918,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LikeIcon, {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 919,\n      columnNumber: 19\n    }\n  })) :\n  /*#__PURE__*/\n  // michelle 5/16: 这里的fragment和里面的东西都替换掉原来的\n  React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 923,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: () => handleLoginOpen(\"Recommend\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 924,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FavoriteBorderOutlinedIcon, {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 925,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 929,\n      columnNumber: 15\n    }\n  }, likeSaveInfo.numLikes.toLocaleString(navigator.language, {\n    minimumFractionDigits: 0\n  })))))));\n}\n\nHospInfo.propTypes = {\n  // like\n  changeHospLikeStatus: PropTypes.func.isRequired,\n  updateHospitalLikes: PropTypes.func.isRequired,\n  // save\n  changeHospSaveStatus: PropTypes.func.isRequired,\n  // report\n  sendReportedHospitals: PropTypes.func.isRequired,\n  reportHospital: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  authenticated: state.user.authenticated,\n  storedCredentials: state.user.credentials,\n  searchInfo: state.data.searchInfoHospital\n});\n\nconst mapActionsToProps = {\n  changeHospLikeStatus,\n  updateHospitalLikes,\n  changeHospSaveStatus,\n  sendReportedHospitals,\n  reportHospital\n};\nexport default connect(mapStateToProps, mapActionsToProps)(HospInfo);","map":{"version":3,"sources":["/Users/Michelle/Desktop/Capstone/CapstoneEclipseAB11/src/Components/profile/HospInfo.js"],"names":["React","Fragment","useEffect","connect","makeStyles","Button","Box","Typography","Chip","Grid","IconButton","Hidden","ArrowBackIosIcon","LocationOnOutlinedIcon","PhoneOutlinedIcon","ErrorOutlineOutlinedIcon","BookmarkIcon","BookmarkBorderOutlinedIcon","ShareOutlinedIcon","FavoriteIcon","FavoriteBorderOutlinedIcon","EditOutlinedIcon","Dialog","DialogContent","DialogTitle","DialogActions","TextField","CloseIcon","Link","CovidAlert","HospTags","PropTypes","changeHospLikeStatus","changeHospSaveStatus","sendReportedHospitals","updateHospitalLikes","reportHospital","useStyles","theme","covidBox","marginTop","breakpoints","down","marginLeft","marginRight","returnBox","img","width","height","objectFit","profileGrid","line","border","signUpInButton","paddingLeft","HospInfo","props","classes","authenticated","backToRes","console","log","backTo","history","push","returnPageDesc","renderCount","setRenderCount","useState","likeSaveInfo","setState","hasLiked","likedList","numLikes","hasSaved","savedList","reportedList","numReports","reportReasonsList","oneReason","displayStoredData","getStoredData","then","res","listOfLikes","liked","likeHistory","hospitals","index","findIndex","hospital","name","replace","toLowerCase","targetHos","listOfSaves","saved","likes","reportedHospitals","report","reportCount","reportReasons","catch","error","storedCredentials","toggleLikeUnlike","likedListCopy","splice","prevState","newHospInfo","address","phone","relatedSpecialty","type","toggleLike","waitLikeUpdate","updateInfo","specialty","HospitalName","updateLocalDocList","Promise","all","newHosList","hos","hospitalInfo","hosItem","NumberOfLikes","sethospitalInfo","newDatabase","database","hospitalId","setDatabase","LikeIcon","toggleSaveUnsave","savedListCopy","toggleSave","waitSaveUpdate","SaveIcon","reportOpen","setReportOpen","handleReportOpen","handleReportClose","handleReportReason","event","target","value","window","location","reload","reported","includes","submitReport","reasons","oneReport","sendToAccount","loginOpen","setLoginOpen","open","userOption","handleLoginOpen","option","handleLoginClose","Icon","fontSize","textTransform","color","toLocaleString","navigator","language","minimumFractionDigits","margin","reportButton","propTypes","func","isRequired","mapStateToProps","state","user","credentials","searchInfo","data","searchInfoHospital","mapActionsToProps"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Hidden from \"@material-ui/core/Hidden\";\n\n//icons\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport LocationOnOutlinedIcon from \"@material-ui/icons/LocationOnOutlined\";\nimport PhoneOutlinedIcon from \"@material-ui/icons/PhoneOutlined\";\nimport ErrorOutlineOutlinedIcon from \"@material-ui/icons/ErrorOutlineOutlined\";\nimport BookmarkIcon from '@material-ui/icons/Bookmark';\nimport BookmarkBorderOutlinedIcon from \"@material-ui/icons/BookmarkBorderOutlined\";\nimport ShareOutlinedIcon from \"@material-ui/icons/ShareOutlined\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorderOutlinedIcon from \"@material-ui/icons/FavoriteBorderOutlined\";\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Link } from \"react-router-dom\";\n\n\n//components\nimport CovidAlert from \"../Alert\";\nimport HospTags from \"./HospTags\";\n\nimport PropTypes from \"prop-types\";\n\nimport { changeHospLikeStatus, changeHospSaveStatus, sendReportedHospitals } from \"../../redux/actions/userActions\";\nimport { updateHospitalLikes, reportHospital } from \"../../redux/actions/dataActions\";\n\n\n// ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～\n// ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～\n// \"hospital tags\" used in this js is actually referred to the tags attached to a specialty in this hospital\n// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n\nconst useStyles = makeStyles((theme) => ({\n  covidBox: {\n    marginTop: 64,\n    [theme.breakpoints.down(\"sm\")]: {\n      marginTop: 20,\n      marginLeft: 20,\n      marginRight: 20,\n    },\n  },\n\n  //return to hospital button\n  returnBox: {\n    marginLeft: 50,\n    [theme.breakpoints.down(\"sm\")]: {\n      marginLeft: 20,\n    },\n  },\n\n  //hospital image\n  img: {\n    width: \"100%\",\n    height: \"100%\",\n    objectFit: \"contain\",\n  },\n\n  profileGrid: {\n    [theme.breakpoints.down(\"xs\")]: {\n      marginLeft: 20,\n      marginRight: 20,\n    },\n  },\n\n  line: {\n    [theme.breakpoints.down(\"xs\")]: {\n      border: \"5px solid rgba(0, 0, 0, 0.05)\",\n    },\n  },\n\n  signUpInButton: {\n    paddingLeft: \"7.5rem\"\n  }\n}));\n\n//for hospital image + basic info + likes\n//edit tags section is imported from HospTags.js\n\nfunction HospInfo(props) {\n  const classes = useStyles();\n\n  const authenticated = props.authenticated;\n\n  const backToRes = () => {\n    console.log('history:')\n    console.log(props.backTo);\n    if (props.history != null) {\n      if (props.backTo == \"resultsPage\") {\n        console.log(1);\n        props.history.push(\"/results\");\n      } else if (props.backTo == \"hospprofile\") {\n        console.log(2);\n        props.history.push(\"/results\");\n      } else if (props.backTo == \"likeHistory\"){\n        console.log(3);\n        props.history.push(\"/likehistory\");\n      } else {\n        console.log(4);\n        props.history.push(\"/saved\");\n      }\n    }\n  };\n\n  let returnPageDesc;\n  if (props.backTo == \"resultsPage\"){\n    returnPageDesc = \"Result Page\";\n  } else if (props.backTo == \"hospprofile\") {\n    returnPageDesc = \"Result Page\";\n  } else if (props.backTo == \"likeHistory\"){\n    returnPageDesc = \"Liked History Page\";\n  } else {\n    returnPageDesc = \"Saved History Page\";\n  }\n\n  const [renderCount, setRenderCount] = React.useState(0);\n\n  const [likeSaveInfo, setState] = React.useState({\n    hasLiked: false,\n    likedList: [],\n    numLikes: 0,\n\n    // save functionality\n    hasSaved: false,\n    savedList: [],\n\n    // report functionality\n    reportedList: [],\n    numReports: 0,\n    reportReasonsList: [],\n    oneReason: \"\"\n  });\n\n\n  // only get called once in the first render\n  useEffect(() => {\n    // if (renderCount == 0) {\n      return displayStoredData();\n    // }\n  },[]);\n\n  const displayStoredData = () => {\n    // call function to get data from returned props from firebase\n    getStoredData()\n      .then((res) => {\n        // like\n        let listOfLikes;\n        let liked = false;\n\n        // if the user has never liked any hospitals\n        if (!res.likeHistory) {\n          listOfLikes = [];\n        } else {\n          if (res.likeHistory.hospitals) {\n            listOfLikes = res.likeHistory.hospitals;\n            // if the user has liked this particular hospital before\n            const index = res.likeHistory.hospitals.findIndex(hospital => hospital.name.replace(/\\s/g,'').toLowerCase() == props.targetHos.name.replace(/\\s/g,'').toLowerCase());\n            if (index != -1) {\n              liked = true;\n            }\n          } else {\n            listOfLikes = [];\n          }\n        }\n\n        // save\n        let listOfSaves;\n        let saved = false;\n\n        // if the user has never saved any hospitals\n        if (!res.saved) {\n          listOfSaves = [];\n        } else {\n          if (res.saved.hospitals) {\n            listOfSaves = res.saved.hospitals;\n            // if the user has saved this particular hospital before\n            const index = res.saved.hospitals.findIndex(hospital => hospital.name.replace(/\\s/g,'').toLowerCase() == props.targetHos.name.replace(/\\s/g,'').toLowerCase())\n            if (index != -1) {\n              saved = true;\n            }\n          } else {\n            listOfSaves = [];\n          }\n        }\n\n\n        setState({\n          hasLiked: liked,\n          likedList: listOfLikes,\n          numLikes: props.targetHos.likes ? props.targetHos.likes : 0,\n\n          hasSaved: saved,\n          savedList: listOfSaves,\n\n          reportedList: res.reportedHospitals ? res.reportedHospitals : [],\n          numReports: props.targetHos.report ? props.targetHos.report.reportCount : 0,\n          reportReasonsList: props.targetHos.report ? props.targetHos.report.reportReasons : [],\n          oneReason: \"\"\n        });\n\n        // setRenderCount(1);\n      }).catch((error) => {\n        console.error(error);\n      })\n  }\n\n  // wait for returned props from firebase to be ready\n  let getStoredData = async () => {\n    // let [storedSearchInfo, userStoredCredentials] =\n    //   await Promise.all([props.searchInfo, props.storedCredentials]);\n    // return [storedSearchInfo, userStoredCredentials];\n\n    let storedCredentials = await props.storedCredentials;\n    return storedCredentials;\n  }\n\n\n  // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~LIKE FUNCTIONALITY~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n  // when the like button is pressed\n  const toggleLikeUnlike = () => {\n    // the user has liked this hospital before\n    if (likeSaveInfo.hasLiked) {\n      let likedListCopy = likeSaveInfo.likedList;\n      let index = likedListCopy.findIndex(hospital => hospital.name == props.targetHos.name);\n      // remove this hospital from the user like list\n      likedListCopy.splice(index, 1);\n      setState(prevState => {\n        prevState.numLikes = prevState.numLikes - 1;\n        prevState.hasLiked = false;\n        prevState.likedList = likedListCopy;\n        return ({\n          ...prevState\n        })\n      })\n    } else {\n      const newHospInfo = {\n        name: props.targetHos.name,\n        address: props.targetHos.address,\n        likes: likeSaveInfo.numLikes,\n        phone: props.targetHos.phone,\n        relatedSpecialty: props.targetHos.relatedSpecialty,\n        type: props.targetHos.type\n      };\n\n      likeSaveInfo.likedList.push(newHospInfo);\n      setState(\n        // add to the list if the list contains other doctors, otherwise use this doctor to start a list\n        (prevState) => {\n          prevState.numLikes = prevState.numLikes + 1;\n          prevState.hasLiked = true;\n          return ({\n            ...prevState\n          })\n        }\n      )\n    }\n    toggleLike();\n  }\n\n  const toggleLike = () => {\n    waitLikeUpdate()\n      .then((res) => {\n        props.changeHospLikeStatus(likeSaveInfo.likedList);\n        const updateInfo = {\n          specialty: props.targetHos.relatedSpecialty,\n          hospital: props.targetHos.HospitalName.replace(/\\s/g,''),\n          likes: res[1]\n        }\n        props.updateHospitalLikes(updateInfo);\n        updateLocalDocList(updateInfo);\n      }).catch((error) => {\n        console.error(error);\n      });\n  }\n\n  let waitLikeUpdate = async () => {\n    let [likedList, likes] =\n      await Promise.all([likeSaveInfo.likedList, likeSaveInfo.numLikes]);\n    return [likedList, likes];\n  }\n\n  const updateLocalDocList = (updateInfo)=>{\n    // set location target list location\n    let newHosList = [];\n    for (let hos in props.hospitalInfo){\n      let hosItem = props.hospitalInfo[hos];\n      if (hosItem.name == props.targetHos.name){\n        hosItem.NumberOfLikes = likeSaveInfo.numLikes;\n        hosItem.likes = likeSaveInfo.numLikes;\n      }\n      newHosList.push(hosItem);\n    }\n    props.sethospitalInfo(newHosList);\n\n    // set database\n    let newDatabase;\n    newDatabase = props.database;\n    let hospitalId = updateInfo['hospital'].replace(/\\s/g,'')\n    newDatabase[updateInfo['specialty']]['hospitals'][hospitalId]['likes'] = likeSaveInfo.numLikes;\n    newDatabase[updateInfo['specialty']]['hospitals'][hospitalId]['NumberOfLikes'] = likeSaveInfo.numLikes;\n    props.setDatabase(newDatabase);\n  }\n\n  // if the user has liked this hospital before: filled heart, otherwise outlined heart\n  const LikeIcon = (likeSaveInfo.hasLiked) ? FavoriteIcon : FavoriteBorderOutlinedIcon;\n\n\n\n  // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~SAVE FUNCTIONALITY~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n  // when the save button is pressed\n  const toggleSaveUnsave = () => {\n    // the user has saved this hospital before\n    if (likeSaveInfo.hasSaved) {\n      let savedListCopy = likeSaveInfo.savedList;\n      let index = savedListCopy.findIndex(hospital => hospital.name == props.targetHos.name);\n      // remove this hospital from the user saved list\n      savedListCopy.splice(index, 1);\n\n      setState({\n        ...likeSaveInfo,\n        savedList: savedListCopy,\n        hasSaved: false,\n      })\n    } else {\n      // the newly saved hospital's information to be added to the user's saved hospital list\n      const newHospInfo = {\n        name: props.targetHos.name.replace(/\\s/g,''),\n        address: props.targetHos.address,\n        likes: likeSaveInfo.numLikes,\n        phone: props.targetHos.phone,\n        relatedSpecialty: props.targetHos.relatedSpecialty,\n        type: props.targetHos.type\n      };\n      likeSaveInfo.savedList.push(newHospInfo);\n      setState(\n        // add to the list if the list contains other doctors, otherwise use this doctor to start a list\n        (prevState) => {\n          prevState.hasSaved = true;\n          return ({\n            ...prevState\n          })\n        }\n      )\n    }\n    toggleSave();\n  }\n\n  // triggered if the save button is pressed (which sets state)\n  // useEffect(() => {\n  //   if (renderCount == 1) {\n  //     return toggleSave();\n  //   }\n  // }, [likeSaveInfo.hasSaved, likeSaveInfo.savedList]);\n\n\n  const toggleSave = () => {\n    waitSaveUpdate()\n      .then((res) => {\n        props.changeHospSaveStatus(res);\n      }).catch((error) => {\n        console.error(error);\n      });\n  }\n\n  let waitSaveUpdate = async () => {\n    let savedList = await likeSaveInfo.savedList;\n    return savedList;\n  }\n\n\n  // if the user has saved this doctor before: filled bookmark, otherwise outlined bookmark\n  const SaveIcon = (likeSaveInfo.hasSaved) ? BookmarkIcon : BookmarkBorderOutlinedIcon;\n\n\n\n  // -------------------------------------------------------------------- //\n    // ----------------------------Report---------------------------------------- //\n  // 新加 5/14\n  //report弹窗：填的表\n  const [reportOpen, setReportOpen] = React.useState(false);\n  const handleReportOpen = () => {\n    setReportOpen(true);\n  };\n\n  const handleReportClose = () => {\n    setReportOpen(false);\n  };\n\n  const handleReportReason = (event) => {\n    const oneReason = event.target.value;\n    setState({\n      ...likeSaveInfo,\n      oneReason: oneReason,\n    });\n  };\n\n  if (!props.targetHos) {\n        props.history.push(\"/\");\n        window.location.reload();\n      }\n  \n  const reported = likeSaveInfo.reportedList.includes(props.targetHos.name);\n\n  // send hospital report to database\n  const submitReport = () => {\n    const oneReason = likeSaveInfo.oneReason;\n    const reasons = likeSaveInfo.reportReasonsList;\n    reasons.push(oneReason);\n    const reportedList = likeSaveInfo.reportedList;\n    if (!reported) {\n      reportedList.push(props.targetHos.name);\n    }\n\n    // send to specialty doctor account\n    const oneReport = {\n      reportCount: likeSaveInfo.numReports + 1,\n      reportReasons: reasons,\n\n      // *******hard code \n      specialty: props.targetHos.relatedSpecialty,\n      hospital: props.targetHos.name,\n    };\n    props.reportHospital(oneReport);\n\n    // send to user account\n    const sendToAccount = {\n      reportedHospitals: reportedList,\n    };\n    props.sendReportedHospitals(sendToAccount);\n\n    setReportOpen(false);\n    setState((prevState) => ({\n      ...likeSaveInfo,\n      numReports: prevState.numReports + 1,\n      reportReasonsList: [prevState.reportReasonsList, oneReason],\n      oneReason: \"\",\n      reportedList: [prevState.reportedList,props.targetHos.name],\n    }));\n  };\n\n\n\n\n\n  // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  // ~~~~~~~~~~~sign up or login in if want to save or report~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n\n  // 弹窗去signin/signup如果要report没有login\n  const [loginOpen, setLoginOpen] = React.useState({\n    open: false,\n    // keep track of what function the user selects (report, like, save, tag)\n    userOption: \"\",\n  });\n\n  const handleLoginOpen = (option) => {\n    setLoginOpen({\n      open: true,\n      userOption: option,\n    });\n  };\n\n  const handleLoginClose = () => {\n    setLoginOpen({\n      ...loginOpen,\n      open: false,\n    });\n  };\n\n  // for login in diagolue: render correponding icon for user option: recommend, like, save\n  let Icon = FavoriteIcon;\n\n  if (loginOpen.userOption == \"Recommend\") {\n    Icon = FavoriteIcon;\n  } else if (loginOpen.userOption == \"Save\") {\n    Icon = BookmarkBorderOutlinedIcon;\n  } else if (loginOpen.userOption == \"Report\") {\n    Icon = ErrorOutlineOutlinedIcon;\n  } else {\n    Icon = EditOutlinedIcon;\n  }\n\n//   const signUpInDialogue = (option) => {\n//     const optionFirstUpper = option[0].toUpperCase() + option.slice(1);\n\n//     return (\n\n//       <Dialog\n//         fullWidth=\"true\"\n//         maxWidth=\"sm\"\n//         open={loginOpen}\n//         onClose={handleLoginClose}\n//       >\n//         <Box display=\"flex\" alignItems=\"center\">\n//           <Box flexGrow={1}>\n//             <DialogTitle>{optionFirstUpper} a Doctor</DialogTitle>\n//           </Box>\n//           <Box>\n//             <DialogActions>\n//               <IconButton\n//                 size=\"small\"\n//                 onClick={handleLoginClose}\n//                 color=\"primary\"\n//               >\n//                 <CloseIcon />\n//               </IconButton>\n//             </DialogActions>\n//           </Box>\n//         </Box>\n//         <DialogContent>\n//           <Box\n//             display=\"flex\"\n//             flexDirection=\"column\"\n//             justifyContent=\"center\"\n//             alignItems=\"center\"\n//           >\n//             <ErrorOutlineOutlinedIcon />\n//             <br></br>\n//             <Typography variant=\"body1\" align=\"center\">\n//               You need to sign in to {option} this doctor\n//                         </Typography>\n//           </Box>\n//           <Box display=\"flex\" mt={2} mb={2}>\n//             <Button\n//               variant=\"contained\"\n//               color=\"primary\"\n//               style={{ textTransform: \"none\" }}\n//               fullWidth\n//               component={Link}\n//               to=\"/login\"\n//             >\n//               Log in\n//                         </Button>\n//           </Box>\n\n//           <Box display=\"flex\" mb={2}>\n//             <Button\n//               variant=\"outlined\"\n//               color=\"primary\"\n//               style={{ textTransform: \"none\" }}\n//               fullWidth\n//               component={Link}\n//               to=\"/signup\"\n//             >\n//               Sign up\n//                         </Button>\n//           </Box>\n//         </DialogContent>\n//       </Dialog>\n//     )\n//   }\n\n\n\n\n\n\n\n\n\n\n\n\n  return (\n    <div>\n      <div className={classes.covidBox}>\n        <CovidAlert />\n      </div>\n\n      {/* For 'return to hospitals' button (需要换成return to doctors， depending on user之前是怎么搜的) */}\n      <Box display=\"flex\" mt={3} mb={3} className={classes.returnBox}>\n        <Button\n          style={{ fontSize: 16, textTransform: \"none\" }}\n          color=\"primary\"\n          startIcon={<ArrowBackIosIcon />}\n          onClick={backToRes}\n        >\n          Return to {returnPageDesc}\n        </Button>\n      </Box>\n\n      {/* 手机屏幕才会出现的格式：hospital照片在上面 ，like icon 在右上角*/}\n      <Hidden smUp>\n        <Grid container display=\"flex\" justifyContent=\"center\">\n          <Grid item xs={3}></Grid>\n          <Grid item xs={6} align=\"center\">\n            {/* hospital image */}\n            <div style={{ width: 150, height: 180 }}>\n              <img className={classes.img} src={props.targetHos[\"imgSrc\"]} alt=\"hospimg\" />\n            </div>\n          </Grid>\n          {/* Like icon + number of likes */}\n          <Grid item xs={3}>\n            <Box\n              display=\"flex\"\n              flexDirection=\"column\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n            >\n              {/* 如果登入了，爱心icon成了iconButton，可以点 , 但是我没写logic, 目前点了的话，这个button不会从\n              <FavoriteBorderOutlinedIcon> 换成<FavoriteIcon>, likeCount也不会增加，麻烦你了\n              */}\n              {authenticated ? (\n                <IconButton onClick={toggleLikeUnlike}>\n                  <LikeIcon style={{ color: \"red\" }} />\n                </IconButton>\n              ) : (\n                  // michelle 5/16: 这里的fragment和里面的东西都替换掉原来的\n                  <Fragment>\n                    <IconButton onClick={() => handleLoginOpen(\"Recommend\")}>\n                      <FavoriteBorderOutlinedIcon style={{ color: \"red\" }} />\n                    </IconButton>\n                  </Fragment>\n\n                )}                )}\n              {/* like count */}\n              <Typography variant=\"body2\" color=\"primary\">\n                {likeSaveInfo.numLikes.toLocaleString(navigator.language, { minimumFractionDigits: 0 })}\n              </Typography>\n            </Box>\n          </Grid>\n        </Grid>\n      </Hidden>\n\n      <Grid container spacing={0}>\n        <Grid item xs={12} sm={5} md={4}>\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n          >\n            {/* 大屏幕会出现的格式：hospital照片在左边 */}\n            <Hidden xsDown>\n              {/* hospital image */}\n              <div style={{ width: 200, height: 250 }}>\n                <img className={classes.img} src={props.targetHos[\"imgSrc\"]} alt=\"hospimg\" />\n              </div>\n            </Hidden>\n\n            {/* 手机屏幕出现的格式：hospital name 在照片下面 */}\n            <Hidden smUp>\n              <Typography variant=\"h5\" color=\"primary\" style={{ margin: 20 }}>\n                {props.targetHos[\"HospitalName\"]}\n              </Typography>\n            </Hidden>\n\n            <Box display=\"flex\" mt={2}>\n              {/* report button */}\n\n              {authenticated ? (\n                <Button\n                  disabled={reported}\n                  startIcon={<ErrorOutlineOutlinedIcon />}\n                  style={{ textTransform: \"none\" }}\n                  color=\"primary\"\n                  onClick={handleReportOpen}\n                >\n                  Report\n              </Button>\n              ) : (\n// michelle 5/16: 这里的fragment和里面的东西都替换掉原来的 （这里新的东西比原来长很多 麻烦小心对一下位置）\n                <Fragment>\n                <Button\n                  startIcon={<ErrorOutlineOutlinedIcon />}\n                  style={{ textTransform: \"none\" }}\n                  color=\"primary\"\n                  onClick={() => handleLoginOpen(\"Report\")}\n                >\n                  Report\n                </Button>\n\n                {/* login dialog asking user to sign in if they want to report, save, or like */}\n                <Dialog\n                  fullWidth=\"true\"\n                  maxWidth=\"sm\"\n                  open={loginOpen.open}\n                  onClose={handleLoginClose}\n                >\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <Box flexGrow={1}>\n                      <DialogTitle>{loginOpen.userOption} a Hospital</DialogTitle>\n                    </Box>\n                    <Box>\n                      <DialogActions>\n                        <IconButton\n                          size=\"small\"\n                          onClick={handleLoginClose}\n                          color=\"primary\"\n                        >\n                          <CloseIcon />\n                        </IconButton>\n                      </DialogActions>\n                    </Box>\n                  </Box>\n                  <DialogContent>\n                    <Box\n                      display=\"flex\"\n                      flexDirection=\"column\"\n                      justifyContent=\"center\"\n                      alignItems=\"center\"\n                    >\n                      <Icon style={{ color: \"red\" }} />\n                      <br></br>\n                      <Typography variant=\"body1\" align=\"center\">\n                        You need to sign in to {loginOpen.userOption.toLowerCase()} this hospital\n                                        </Typography>\n                    </Box>\n                    <Box display=\"flex\" mt={2} mb={2}>\n                      <Button\n                        className={classes.signUpInButton}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        style={{ textTransform: \"none\" }}\n                        fullWidth\n                        component={Link}\n                        to=\"/login\"\n                      >\n                        Log in\n                                        </Button>\n                    </Box>\n\n                    <Box display=\"flex\" mb={2}>\n                      <Button\n                        className={classes.signUpInButton}\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        style={{ textTransform: \"none\" }}\n                        fullWidth\n                        component={Link}\n                        to=\"/signup\"\n                      >\n                        Sign up\n                                        </Button>\n                    </Box>\n                  </DialogContent>\n                </Dialog>\n\n                </Fragment>\n                )}\n\n                {/* report dialogue 新加的 5/10/2020 */}\n              <Dialog\n                fullWidth=\"true\"\n                maxWidth=\"sm\"\n                open={reportOpen}\n                onClose={handleReportClose}\n              >\n                <Box display=\"flex\" alignItems=\"center\">\n                  <Box flexGrow={1}>\n                    <DialogTitle>Report</DialogTitle>\n                  </Box>\n                  <Box>\n                    <DialogActions>\n                      <IconButton\n                        size=\"small\"\n                        onClick={handleReportClose}\n                        color=\"primary\"\n                      >\n                        <CloseIcon />\n                      </IconButton>\n                    </DialogActions>\n                  </Box>\n                </Box>\n                <DialogContent>\n                  <Typography variant=\"body1\">\n                    Please provide a reason for why you are reporting this\n                    hospital:\n                  </Typography>\n                  <br></br>\n                  <TextField\n                    fullWidth\n                    multiline\n                    required\n                    variant=\"outlined\"\n                    label=\"Reason\"\n                    rows={5}\n                    onChange={handleReportReason}\n                  />\n                </DialogContent>\n                <DialogActions>\n                  <Button\n                    className={classes.reportButton}\n                    disabled={!likeSaveInfo.oneReason}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{ textTransform: \"none\" }}\n                    onClick={submitReport}\n                  >\n                    Submit\n                  </Button>\n                </DialogActions>\n              </Dialog>\n\n\n              {/* save button */}\n\n              {authenticated ? (\n                <Button\n                  startIcon={<SaveIcon />}\n                  style={{ textTransform: \"none\" }}\n                  color=\"primary\"\n                  onClick={toggleSaveUnsave}\n                >\n                  Save\n              </Button>\n              ) : (\n                  // michelle 5/16: 这里的fragment和里面的东西都替换掉原来的\n                  <Fragment>\n                    <Button\n                      startIcon={<SaveIcon />}\n                      style={{ textTransform: \"none\" }}\n                      color=\"primary\"\n                      onClick={() => handleLoginOpen(\"Save\")}\n                    >\n                      Save\n                     </Button>\n                  </Fragment>\n                )}\n\n            </Box>\n          </Box>\n        </Grid>\n\n        <Grid item xs={12} sm={6} md={6}>\n          {/* 大屏幕会出现的格式：hospital name 在右边 */}\n          <Hidden xsDown>\n            <Typography variant=\"h5\" color=\"primary\">\n              {props.targetHos[\"HospitalName\"]}\n              {/* private tag */}\n              <Chip\n                style={{ marginLeft: 10 }}\n                color=\"primary\"\n                size=\"small\"\n                label=\"Private\"\n              ></Chip>\n            </Typography>\n          </Hidden>\n\n          {/* 手机幕会出现的格式：灰色比较粗的divider line */}\n          <Hidden smUp>\n            <hr className={classes.line}></hr>\n          </Hidden>\n\n          {/* hospital basic info */}\n          <Box className={classes.profileGrid} mt={3} mb={3}>\n            <Typography variant=\"body1\" color=\"textPrimary\">\n              <strong>Official website: </strong>{\" \"}\n              <Link href={props.targetHos[\"website\"]}>Link</Link>\n            </Typography>\n\n            <Typography variant=\"body1\" color=\"textPrimary\">\n              <strong>Hours: </strong>{\" \"}\n              <span>Open {props.targetHos[\"hours\"]}</span>\n            </Typography>\n\n            <Hidden smUp>\n              <Typography variant=\"body1\" color=\"textPrimary\">\n                <strong>Hospital Type: </strong> {/* private tag */}\n                <Chip\n                  style={{ marginLeft: 10 }}\n                  color=\"primary\"\n                  size=\"small\"\n                  label={props.targetHos[\"HospitalType\"]}\n                ></Chip>\n              </Typography>\n            </Hidden>\n\n            <br></br>\n\n            <Box display=\"flex\" flexDirection=\"row\" mt={1}>\n              <LocationOnOutlinedIcon style={{ marginRight: 10 }} />\n              <Typography variant=\"body1\" color=\"textPrimary\">\n                <span>{props.targetHos[\"Address\"]}</span>\n              </Typography>\n            </Box>\n            <Box display=\"flex\" flexDirection=\"row\" mt={1}>\n              <PhoneOutlinedIcon style={{ marginRight: 10 }} />\n              <Typography variant=\"body1\" color=\"textPrimary\">\n                <span>{props.targetHos[\"Phone\"]}</span>\n              </Typography>\n            </Box>\n          </Box>\n          {/* edit Tag component (imported from HospTag.js) */}\n          <HospTags tagInfo={props.targetHos[\"tags\"]} targetHos={props.targetHos} handleLoginOpen={handleLoginOpen}/>\n        </Grid>\n\n        <Grid item xs={12} sm={1} md={2}>\n          {/* 大屏幕会出现的格式：like icon在最右边 */}\n          <Hidden xsDown>\n            <Box\n              display=\"flex\"\n              flexDirection=\"column\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n            >\n              {/* 如果登入了，爱心icon成了iconButton，可以点 , 但是我没写logic, 目前点了的话，这个button不会从\n              <FavoriteBorderOutlinedIcon> 换成<FavoriteIcon>, likeCount也不会增加，麻烦你了\n              */}\n              {authenticated ? (\n                <IconButton onClick={toggleLikeUnlike}>\n                  <LikeIcon style={{ color: \"red\" }} />\n                </IconButton>\n              ) : (\n                  // michelle 5/16: 这里的fragment和里面的东西都替换掉原来的\n                  <Fragment>\n                    <IconButton onClick={() => handleLoginOpen(\"Recommend\")}>\n                      <FavoriteBorderOutlinedIcon style={{ color: \"red\" }} />\n                    </IconButton>\n                  </Fragment>\n                )}\n              <Typography variant=\"body2\" color=\"primary\">\n                {likeSaveInfo.numLikes.toLocaleString(navigator.language, { minimumFractionDigits: 0 })}\n              </Typography>\n            </Box>\n          </Hidden>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nHospInfo.propTypes = {\n  // like\n  changeHospLikeStatus: PropTypes.func.isRequired,\n  updateHospitalLikes: PropTypes.func.isRequired,\n\n  // save\n  changeHospSaveStatus: PropTypes.func.isRequired,\n\n  // report\n  sendReportedHospitals: PropTypes.func.isRequired,\n  reportHospital: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n  authenticated: state.user.authenticated,\n  storedCredentials: state.user.credentials,\n  searchInfo: state.data.searchInfoHospital\n});\n\nconst mapActionsToProps = {\n  changeHospLikeStatus,\n  updateHospitalLikes,\n\n  changeHospSaveStatus,\n\n  sendReportedHospitals,\n  reportHospital\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(HospInfo);"]},"metadata":{},"sourceType":"module"}